"use strict";exports.id="mod-node_modules_send_index_js-87ae7f23",exports.ids=["mod-node_modules_send_index_js-87ae7f23"],exports.modules={"./node_modules/send/index.js":(e,t,r)=>{var n=r("./node_modules/http-errors/index.js"),i=r("./node_modules/debug/src/index.js")("send"),o=r("./node_modules/depd/index.js")("send"),s=r("./node_modules/destroy/index.js"),a=r("./node_modules/encodeurl/index.js"),d=r("./node_modules/escape-html/index.js"),h=r("./node_modules/etag/index.js"),f=r("./node_modules/fresh/index.js"),u=r("fs"),l=r("./node_modules/mime/mime.js"),c=r("./node_modules/send/node_modules/ms/index.js"),p=r("./node_modules/on-finished/index.js"),m=r("./node_modules/range-parser/index.js"),g=r("path"),y=r("./node_modules/statuses/index.js"),_=r("stream"),x=r("util"),v=g.extname,C=g.join,H=g.normalize,b=g.resolve,E=g.sep,T=/^ *bytes=/,N=31536e6,j=/(?:^|[\\/])\.\.(?:[\\/]|$)/;function M(e,t,r){_.call(this);var n=r||{};if(this.options=n,this.path=t,this.req=e,this._acceptRanges=void 0===n.acceptRanges||Boolean(n.acceptRanges),this._cacheControl=void 0===n.cacheControl||Boolean(n.cacheControl),this._etag=void 0===n.etag||Boolean(n.etag),this._dotfiles=void 0!==n.dotfiles?n.dotfiles:"ignore","ignore"!==this._dotfiles&&"allow"!==this._dotfiles&&"deny"!==this._dotfiles)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._hidden=Boolean(n.hidden),void 0!==n.hidden&&o("hidden: use dotfiles: '"+(this._hidden?"allow":"ignore")+"' instead"),void 0===n.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==n.extensions?L(n.extensions,"extensions option"):[],this._immutable=void 0!==n.immutable&&Boolean(n.immutable),this._index=void 0!==n.index?L(n.index,"index option"):["index.html"],this._lastModified=void 0===n.lastModified||Boolean(n.lastModified),this._maxage=n.maxAge||n.maxage,this._maxage="string"==typeof this._maxage?c(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),N),this._root=n.root?b(n.root):null,!this._root&&n.from&&this.from(n.from)}function R(e,t,r){return e+" "+(r?r.start+"-"+r.end:"*")+"/"+t}function S(e,t){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>'+e+"</title>\n</head>\n<body>\n<pre>"+t+"</pre>\n</body>\n</html>\n"}function w(e,t){return("function"!=typeof e.listenerCount?e.listeners(t).length:e.listenerCount(t))>0}function L(e,t){for(var r=[].concat(e||[]),n=0;n<r.length;n++)if("string"!=typeof r[n])throw new TypeError(t+" must be array of strings or false");return r}function O(e){var t=e&&Date.parse(e);return"number"==typeof t?t:NaN}e.exports=function(e,t,r){return new M(e,t,r)},e.exports.mime=l,x.inherits(M,_),M.prototype.etag=o.function((function(e){return this._etag=Boolean(e),i("etag %s",this._etag),this}),"send.etag: pass etag as option"),M.prototype.hidden=o.function((function(e){return this._hidden=Boolean(e),this._dotfiles=void 0,i("hidden %s",this._hidden),this}),"send.hidden: use dotfiles option"),M.prototype.index=o.function((function(e){var t=e?L(e,"paths argument"):[];return i("index %o",e),this._index=t,this}),"send.index: pass index as option"),M.prototype.root=function(e){return this._root=b(String(e)),i("root %s",this._root),this},M.prototype.from=o.function(M.prototype.root,"send.from: pass root as option"),M.prototype.root=o.function(M.prototype.root,"send.root: pass root as option"),M.prototype.maxage=o.function((function(e){return this._maxage="string"==typeof e?c(e):Number(e),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),N),i("max-age %d",this._maxage),this}),"send.maxage: pass maxAge as option"),M.prototype.error=function(e,t){if(w(this,"error"))return this.emit("error",function(e,t){if(!t)return n(e);return t instanceof Error?n(e,t,{expose:!1}):n(e,t)}(e,t));var r=this.res,i=y.message[e]||String(e),o=S("Error",d(i));!function(e){for(var t=function(e){return"function"!=typeof e.getHeaderNames?Object.keys(e._headers||{}):e.getHeaderNames()}(e),r=0;r<t.length;r++)e.removeHeader(t[r])}(r),t&&t.headers&&function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setHeader(i,t[i])}}(r,t.headers),r.statusCode=e,r.setHeader("Content-Type","text/html; charset=UTF-8"),r.setHeader("Content-Length",Buffer.byteLength(o)),r.setHeader("Content-Security-Policy","default-src 'none'"),r.setHeader("X-Content-Type-Options","nosniff"),r.end(o)},M.prototype.hasTrailingSlash=function(){return"/"===this.path[this.path.length-1]},M.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]},M.prototype.isPreconditionFailure=function(){var e=this.req,t=this.res,r=e.headers["if-match"];if(r){var n=t.getHeader("ETag");return!n||"*"!==r&&function(e){for(var t=0,r=[],n=0,i=0,o=e.length;i<o;i++)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i+1);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=i+1;break;default:t=i+1}n!==t&&r.push(e.substring(n,t));return r}(r).every((function(e){return e!==n&&e!=="W/"+n&&"W/"+e!==n}))}var i=O(e.headers["if-unmodified-since"]);if(!isNaN(i)){var o=O(t.getHeader("Last-Modified"));return isNaN(o)||o>i}return!1},M.prototype.removeContentHeaderFields=function(){var e=this.res;e.removeHeader("Content-Encoding"),e.removeHeader("Content-Language"),e.removeHeader("Content-Length"),e.removeHeader("Content-Range"),e.removeHeader("Content-Type")},M.prototype.notModified=function(){var e=this.res;i("not modified"),this.removeContentHeaderFields(),e.statusCode=304,e.end()},M.prototype.headersAlreadySent=function(){var e=new Error("Can't set headers after they are sent.");i("headers already sent"),this.error(500,e)},M.prototype.isCachable=function(){var e=this.res.statusCode;return e>=200&&e<300||304===e},M.prototype.onStatError=function(e){switch(e.code){case"ENAMETOOLONG":case"ENOENT":case"ENOTDIR":this.error(404,e);break;default:this.error(500,e)}},M.prototype.isFresh=function(){return f(this.req.headers,{etag:this.res.getHeader("ETag"),"last-modified":this.res.getHeader("Last-Modified")})},M.prototype.isRangeFresh=function(){var e=this.req.headers["if-range"];if(!e)return!0;if(-1!==e.indexOf('"')){var t=this.res.getHeader("ETag");return Boolean(t&&-1!==e.indexOf(t))}return O(this.res.getHeader("Last-Modified"))<=O(e)},M.prototype.redirect=function(e){var t=this.res;if(w(this,"directory"))this.emit("directory",t,e);else if(this.hasTrailingSlash())this.error(403);else{var r=a(function(e){for(var t=0;t<e.length&&"/"===e[t];t++);return t>1?"/"+e.substr(t):e}(this.path+"/")),n=S("Redirecting",'Redirecting to <a href="'+d(r)+'">'+d(r)+"</a>");t.statusCode=301,t.setHeader("Content-Type","text/html; charset=UTF-8"),t.setHeader("Content-Length",Buffer.byteLength(n)),t.setHeader("Content-Security-Policy","default-src 'none'"),t.setHeader("X-Content-Type-Options","nosniff"),t.setHeader("Location",r),t.end(n)}},M.prototype.pipe=function(e){var t=this._root;this.res=e;var r,n=function(e){try{return decodeURIComponent(e)}catch(e){return-1}}(this.path);if(-1===n)return this.error(400),e;if(~n.indexOf("\0"))return this.error(400),e;if(null!==t){if(n&&(n=H("."+E+n)),j.test(n))return i('malicious path "%s"',n),this.error(403),e;r=n.split(E),n=H(C(t,n))}else{if(j.test(n))return i('malicious path "%s"',n),this.error(403),e;r=H(n).split(E),n=b(n)}if(function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.length>1&&"."===r[0])return!0}return!1}(r)){var o=this._dotfiles;switch(void 0===o&&(o="."===r[r.length-1][0]?this._hidden?"allow":"ignore":"allow"),i('%s dotfile "%s"',o,n),o){case"allow":break;case"deny":return this.error(403),e;default:return this.error(404),e}}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(n),e):(this.sendFile(n),e)},M.prototype.send=function(e,t){var r=t.size,n=this.options,o={},s=this.res,a=this.req,d=a.headers.range,h=n.start||0;if(function(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}(s))this.headersAlreadySent();else{if(i('pipe "%s"',e),this.setHeader(e,t),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure())return void this.error(412);if(this.isCachable()&&this.isFresh())return void this.notModified()}if(r=Math.max(0,r-h),void 0!==n.end){var f=n.end-h+1;r>f&&(r=f)}if(this._acceptRanges&&T.test(d)){if(d=m(r,d,{combine:!0}),this.isRangeFresh()||(i("range stale"),d=-2),-1===d)return i("range unsatisfiable"),s.setHeader("Content-Range",R("bytes",r)),this.error(416,{headers:{"Content-Range":s.getHeader("Content-Range")}});-2!==d&&1===d.length&&(i("range %j",d),s.statusCode=206,s.setHeader("Content-Range",R("bytes",r,d[0])),h+=d[0].start,r=d[0].end-d[0].start+1)}for(var u in n)o[u]=n[u];o.start=h,o.end=Math.max(h,h+r-1),s.setHeader("Content-Length",r),"HEAD"!==a.method?this.stream(e,o):s.end()}},M.prototype.sendFile=function(e){var t=0,r=this;function n(o){if(r._extensions.length<=t)return o?r.onStatError(o):r.error(404);var s=e+"."+r._extensions[t++];i('stat "%s"',s),u.stat(s,(function(e,t){return e?n(e):t.isDirectory()?n():(r.emit("file",s,t),void r.send(s,t))}))}i('stat "%s"',e),u.stat(e,(function(t,i){return t&&"ENOENT"===t.code&&!v(e)&&e[e.length-1]!==E?n(t):t?r.onStatError(t):i.isDirectory()?r.redirect(e):(r.emit("file",e,i),void r.send(e,i))}))},M.prototype.sendIndex=function(e){var t=-1,r=this;!function n(o){if(++t>=r._index.length)return o?r.onStatError(o):r.error(404);var s=C(e,r._index[t]);i('stat "%s"',s),u.stat(s,(function(e,t){return e?n(e):t.isDirectory()?n():(r.emit("file",s,t),void r.send(s,t))}))}()},M.prototype.stream=function(e,t){var r=this,n=this.res,i=u.createReadStream(e,t);function o(){s(i,!0)}this.emit("stream",i),i.pipe(n),p(n,o),i.on("error",(function(e){o(),r.onStatError(e)})),i.on("end",(function(){r.emit("end")}))},M.prototype.type=function(e){var t=this.res;if(!t.getHeader("Content-Type")){var r=l.lookup(e);if(r){var n=l.charsets.lookup(r);i("content-type %s",r),t.setHeader("Content-Type",r+(n?"; charset="+n:""))}else i("no content-type")}},M.prototype.setHeader=function(e,t){var r=this.res;if(this.emit("headers",r,e,t),this._acceptRanges&&!r.getHeader("Accept-Ranges")&&(i("accept ranges"),r.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!r.getHeader("Cache-Control")){var n="public, max-age="+Math.floor(this._maxage/1e3);this._immutable&&(n+=", immutable"),i("cache-control %s",n),r.setHeader("Cache-Control",n)}if(this._lastModified&&!r.getHeader("Last-Modified")){var o=t.mtime.toUTCString();i("modified %s",o),r.setHeader("Last-Modified",o)}if(this._etag&&!r.getHeader("ETag")){var s=h(t);i("etag %s",s),r.setHeader("ETag",s)}}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLW5vZGVfbW9kdWxlc19zZW5kX2luZGV4X2pzLTg3YWU3ZjIzLmpzIiwibWFwcGluZ3MiOiJvTEFjQSxJQUFJQSxFQUFjLEVBQVEsdUNBQ3RCQyxFQUFRLEVBQVEsb0NBQVIsQ0FBaUIsUUFDekJDLEVBQVksRUFBUSwrQkFBUixDQUFnQixRQUM1QkMsRUFBVSxFQUFRLG1DQUNsQkMsRUFBWSxFQUFRLHFDQUNwQkMsRUFBYSxFQUFRLHVDQUNyQkMsRUFBTyxFQUFRLGdDQUNmQyxFQUFRLEVBQVEsaUNBQ2hCQyxFQUFLLEVBQVEsTUFDYkMsRUFBTyxFQUFRLCtCQUNmQyxFQUFLLEVBQVEsZ0RBQ2JDLEVBQWEsRUFBUSx1Q0FDckJDLEVBQWEsRUFBUSx3Q0FDckJDLEVBQU8sRUFBUSxRQUNmQyxFQUFXLEVBQVEsb0NBQ25CQyxFQUFTLEVBQVEsVUFDakJDLEVBQU8sRUFBUSxRQU9mQyxFQUFVSixFQUFLSSxRQUNmQyxFQUFPTCxFQUFLSyxLQUNaQyxFQUFZTixFQUFLTSxVQUNqQkMsRUFBVVAsRUFBS08sUUFDZkMsRUFBTVIsRUFBS1EsSUFPWEMsRUFBcUIsWUFPckJDLEVBQWEsUUFPYkMsRUFBaUIsNkJBaUNyQixTQUFTQyxFQUFZQyxFQUFLYixFQUFNYyxHQUM5QlosRUFBT2EsS0FBS0MsTUFFWixJQUFJQyxFQUFPSCxHQUFXLENBQUMsRUFzQnZCLEdBcEJBRSxLQUFLRixRQUFVRyxFQUNmRCxLQUFLaEIsS0FBT0EsRUFDWmdCLEtBQUtILElBQU1BLEVBRVhHLEtBQUtFLG1CQUFzQ0MsSUFBdEJGLEVBQUtHLGNBQ3RCQyxRQUFRSixFQUFLRyxjQUdqQkosS0FBS00sbUJBQXNDSCxJQUF0QkYsRUFBS00sY0FDdEJGLFFBQVFKLEVBQUtNLGNBR2pCUCxLQUFLUSxXQUFzQkwsSUFBZEYsRUFBS3hCLE1BQ2Q0QixRQUFRSixFQUFLeEIsTUFHakJ1QixLQUFLUyxlQUE4Qk4sSUFBbEJGLEVBQUtTLFNBQ2xCVCxFQUFLUyxTQUNMLFNBRW1CLFdBQW5CVixLQUFLUyxX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SVksVUFBVSxPQUFRckMsRUFDeEIsQ0FDRixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJkeHlneS9leHByZXNzLXdlYnBhY2svLi9ub2RlX21vZHVsZXMvc2VuZC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIHNlbmRcbiAqIENvcHlyaWdodChjKSAyMDEyIFRKIEhvbG93YXljaHVrXG4gKiBDb3B5cmlnaHQoYykgMjAxNC0yMDIyIERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uXG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4ndXNlIHN0cmljdCdcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCdodHRwLWVycm9ycycpXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzZW5kJylcbnZhciBkZXByZWNhdGUgPSByZXF1aXJlKCdkZXBkJykoJ3NlbmQnKVxudmFyIGRlc3Ryb3kgPSByZXF1aXJlKCdkZXN0cm95JylcbnZhciBlbmNvZGVVcmwgPSByZXF1aXJlKCdlbmNvZGV1cmwnKVxudmFyIGVzY2FwZUh0bWwgPSByZXF1aXJlKCdlc2NhcGUtaHRtbCcpXG52YXIgZXRhZyA9IHJlcXVpcmUoJ2V0YWcnKVxudmFyIGZyZXNoID0gcmVxdWlyZSgnZnJlc2gnKVxudmFyIGZzID0gcmVxdWlyZSgnZnMnKVxudmFyIG1pbWUgPSByZXF1aXJlKCdtaW1lJylcbnZhciBtcyA9IHJlcXVpcmUoJ21zJylcbnZhciBvbkZpbmlzaGVkID0gcmVxdWlyZSgnb24tZmluaXNoZWQnKVxudmFyIHBhcnNlUmFuZ2UgPSByZXF1aXJlKCdyYW5nZS1wYXJzZXInKVxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbnZhciBzdGF0dXNlcyA9IHJlcXVpcmUoJ3N0YXR1c2VzJylcbnZhciBTdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKVxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcblxuLyoqXG4gKiBQYXRoIGZ1bmN0aW9uIHJlZmVyZW5jZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBleHRuYW1lID0gcGF0aC5leHRuYW1lXG52YXIgam9pbiA9IHBhdGguam9pblxudmFyIG5vcm1hbGl6ZSA9IHBhdGgubm9ybWFsaXplXG52YXIgcmVzb2x2ZSA9IHBhdGgucmVzb2x2ZVxudmFyIHNlcCA9IHBhdGguc2VwXG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIGZvciBpZGVudGlmeWluZyBhIGJ5dGVzIFJhbmdlIGhlYWRlci5cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEJZVEVTX1JBTkdFX1JFR0VYUCA9IC9eICpieXRlcz0vXG5cbi8qKlxuICogTWF4aW11bSB2YWx1ZSBhbGxvd2VkIGZvciB0aGUgbWF4IGFnZS5cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIE1BWF9NQVhBR0UgPSA2MCAqIDYwICogMjQgKiAzNjUgKiAxMDAwIC8vIDEgeWVhclxuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhIHBhdGggd2l0aCBhIGRpcmVjdG9yeSB1cCBjb21wb25lbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBVUF9QQVRIX1JFR0VYUCA9IC8oPzpefFtcXFxcL10pXFwuXFwuKD86W1xcXFwvXXwkKS9cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRcbm1vZHVsZS5leHBvcnRzLm1pbWUgPSBtaW1lXG5cbi8qKlxuICogUmV0dXJuIGEgYFNlbmRTdHJlYW1gIGZvciBgcmVxYCBhbmQgYHBhdGhgLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtTZW5kU3RyZWFtfVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNlbmQgKHJlcSwgcGF0aCwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFNlbmRTdHJlYW0ocmVxLCBwYXRoLCBvcHRpb25zKVxufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBgU2VuZFN0cmVhbWAgd2l0aCB0aGUgZ2l2ZW4gYHBhdGhgLlxuICpcbiAqIEBwYXJhbSB7UmVxdWVzdH0gcmVxXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBTZW5kU3RyZWFtIChyZXEsIHBhdGgsIG9wdGlvbnMpIHtcbiAgU3RyZWFtLmNhbGwodGhpcylcblxuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge31cblxuICB0aGlzLm9wdGlvbnMgPSBvcHRzXG4gIHRoaXMucGF0aCA9IHBhdGhcbiAgdGhpcy5yZXEgPSByZXFcblxuICB0aGlzLl9hY2NlcHRSYW5nZXMgPSBvcHRzLmFjY2VwdFJhbmdlcyAhPT0gdW5kZWZpbmVkXG4gICAgPyBCb29sZWFuKG9wdHMuYWNjZXB0UmFuZ2VzKVxuICAgIDogdHJ1ZVxuXG4gIHRoaXMuX2NhY2hlQ29udHJvbCA9IG9wdHMuY2FjaGVDb250cm9sICE9PSB1bmRlZmluZWRcbiAgICA/IEJvb2xlYW4ob3B0cy5jYWNoZUNvbnRyb2wpXG4gICAgOiB0cnVlXG5cbiAgdGhpcy5fZXRhZyA9IG9wdHMuZXRhZyAhPT0gdW5kZWZpbmVkXG4gICAgPyBCb29sZWFuKG9wdHMuZXRhZylcbiAgICA6IHRydWVcblxuICB0aGlzLl9kb3RmaWxlcyA9IG9wdHMuZG90ZmlsZXMgIT09IHVuZGVmaW5lZFxuICAgID8gb3B0cy5kb3RmaWxlc1xuICAgIDogJ2lnbm9yZSdcblxuICBpZiAodGhpcy5fZG90ZmlsZXMgIT09ICdpZ25vcmUnICYmIHRoaXMuX2RvdGZpbGVzICE9PSAnYWxsb3cnICYmIHRoaXMuX2RvdGZpbGVzICE9PSAnZGVueScpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkb3RmaWxlcyBvcHRpb24gbXVzdCBiZSBcImFsbG93XCIsIFwiZGVueVwiLCBvciBcImlnbm9yZVwiJylcbiAgfVxuXG4gIHRoaXMuX2hpZGRlbiA9IEJvb2xlYW4ob3B0cy5oaWRkZW4pXG5cbiAgaWYgKG9wdHMuaGlkZGVuICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZXByZWNhdGUoJ2hpZGRlbjogdXNlIGRvdGZpbGVzOiBcXCcnICsgKHRoaXMuX2hpZGRlbiA/ICdhbGxvdycgOiAnaWdub3JlJykgKyAnXFwnIGluc3RlYWQnKVxuICB9XG5cbiAgLy8gbGVnYWN5IHN1cHBvcnRcbiAgaWYgKG9wdHMuZG90ZmlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuX2RvdGZpbGVzID0gdW5kZWZpbmVkXG4gIH1cblxuICB0aGlzLl9leHRlbnNpb25zID0gb3B0cy5leHRlbnNpb25zICE9PSB1bmRlZmluZWRcbiAgICA/IG5vcm1hbGl6ZUxpc3Qob3B0cy5leHRlbnNpb25zLCAnZXh0ZW5zaW9ucyBvcHRpb24nKVxuICAgIDogW11cblxuICB0aGlzLl9pbW11dGFibGUgPSBvcHRzLmltbXV0YWJsZSAhPT0gdW5kZWZpbmVkXG4gICAgPyBCb29sZWFuKG9wdHMuaW1tdXRhYmxlKVxuICAgIDogZmFsc2VcblxuICB0aGlzLl9pbmRleCA9IG9wdHMuaW5kZXggIT09IHVuZGVmaW5lZFxuICAgID8gbm9ybWFsaXplTGlzdChvcHRzLmluZGV4LCAnaW5kZXggb3B0aW9uJylcbiAgICA6IFsnaW5kZXguaHRtbCddXG5cbiAgdGhpcy5fbGFzdE1vZGlmaWVkID0gb3B0cy5sYXN0TW9kaWZpZWQgIT09IHVuZGVmaW5lZFxuICAgID8gQm9vbGVhbihvcHRzLmxhc3RNb2RpZmllZClcbiAgICA6IHRydWVcblxuICB0aGlzLl9tYXhhZ2UgPSBvcHRzLm1heEFnZSB8fCBvcHRzLm1heGFnZVxuICB0aGlzLl9tYXhhZ2UgPSB0eXBlb2YgdGhpcy5fbWF4YWdlID09PSAnc3RyaW5nJ1xuICAgID8gbXModGhpcy5fbWF4YWdlKVxuICAgIDogTnVtYmVyKHRoaXMuX21heGFnZSlcbiAgdGhpcy5fbWF4YWdlID0gIWlzTmFOKHRoaXMuX21heGFnZSlcbiAgICA/IE1hdGgubWluKE1hdGgubWF4KDAsIHRoaXMuX21heGFnZSksIE1BWF9NQVhBR0UpXG4gICAgOiAwXG5cbiAgdGhpcy5fcm9vdCA9IG9wdHMucm9vdFxuICAgID8gcmVzb2x2ZShvcHRzLnJvb3QpXG4gICAgOiBudWxsXG5cbiAgaWYgKCF0aGlzLl9yb290ICYmIG9wdHMuZnJvbSkge1xuICAgIHRoaXMuZnJvbShvcHRzLmZyb20pXG4gIH1cbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIGBTdHJlYW1gLlxuICovXG5cbnV0aWwuaW5oZXJpdHMoU2VuZFN0cmVhbSwgU3RyZWFtKVxuXG4vKipcbiAqIEVuYWJsZSBvciBkaXNhYmxlIGV0YWcgZ2VuZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHZhbFxuICogQHJldHVybiB7U2VuZFN0cmVhbX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuZXRhZyA9IGRlcHJlY2F0ZS5mdW5jdGlvbihmdW5jdGlvbiBldGFnICh2YWwpIHtcbiAgdGhpcy5fZXRhZyA9IEJvb2xlYW4odmFsKVxuICBkZWJ1ZygnZXRhZyAlcycsIHRoaXMuX2V0YWcpXG4gIHJldHVybiB0aGlzXG59LCAnc2VuZC5ldGFnOiBwYXNzIGV0YWcgYXMgb3B0aW9uJylcblxuLyoqXG4gKiBFbmFibGUgb3IgZGlzYWJsZSBcImhpZGRlblwiIChkb3QpIGZpbGVzLlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcGF0aFxuICogQHJldHVybiB7U2VuZFN0cmVhbX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuaGlkZGVuID0gZGVwcmVjYXRlLmZ1bmN0aW9uKGZ1bmN0aW9uIGhpZGRlbiAodmFsKSB7XG4gIHRoaXMuX2hpZGRlbiA9IEJvb2xlYW4odmFsKVxuICB0aGlzLl9kb3RmaWxlcyA9IHVuZGVmaW5lZFxuICBkZWJ1ZygnaGlkZGVuICVzJywgdGhpcy5faGlkZGVuKVxuICByZXR1cm4gdGhpc1xufSwgJ3NlbmQuaGlkZGVuOiB1c2UgZG90ZmlsZXMgb3B0aW9uJylcblxuLyoqXG4gKiBTZXQgaW5kZXggYHBhdGhzYCwgc2V0IHRvIGEgZmFsc3lcbiAqIHZhbHVlIHRvIGRpc2FibGUgaW5kZXggc3VwcG9ydC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xCb29sZWFufEFycmF5fSBwYXRoc1xuICogQHJldHVybiB7U2VuZFN0cmVhbX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuaW5kZXggPSBkZXByZWNhdGUuZnVuY3Rpb24oZnVuY3Rpb24gaW5kZXggKHBhdGhzKSB7XG4gIHZhciBpbmRleCA9ICFwYXRocyA/IFtdIDogbm9ybWFsaXplTGlzdChwYXRocywgJ3BhdGhzIGFyZ3VtZW50JylcbiAgZGVidWcoJ2luZGV4ICVvJywgcGF0aHMpXG4gIHRoaXMuX2luZGV4ID0gaW5kZXhcbiAgcmV0dXJuIHRoaXNcbn0sICdzZW5kLmluZGV4OiBwYXNzIGluZGV4IGFzIG9wdGlvbicpXG5cbi8qKlxuICogU2V0IHJvb3QgYHBhdGhgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtTZW5kU3RyZWFtfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5TZW5kU3RyZWFtLnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24gcm9vdCAocGF0aCkge1xuICB0aGlzLl9yb290ID0gcmVzb2x2ZShTdHJpbmcocGF0aCkpXG4gIGRlYnVnKCdyb290ICVzJywgdGhpcy5fcm9vdClcbiAgcmV0dXJuIHRoaXNcbn1cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuZnJvbSA9IGRlcHJlY2F0ZS5mdW5jdGlvbihTZW5kU3RyZWFtLnByb3RvdHlwZS5yb290LFxuICAnc2VuZC5mcm9tOiBwYXNzIHJvb3QgYXMgb3B0aW9uJylcblxuU2VuZFN0cmVhbS5wcm90b3R5cGUucm9vdCA9IGRlcHJlY2F0ZS5mdW5jdGlvbihTZW5kU3RyZWFtLnByb3RvdHlwZS5yb290LFxuICAnc2VuZC5yb290OiBwYXNzIHJvb3QgYXMgb3B0aW9uJylcblxuLyoqXG4gKiBTZXQgbWF4LWFnZSB0byBgbWF4QWdlYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4QWdlXG4gKiBAcmV0dXJuIHtTZW5kU3RyZWFtfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5TZW5kU3RyZWFtLnByb3RvdHlwZS5tYXhhZ2UgPSBkZXByZWNhdGUuZnVuY3Rpb24oZnVuY3Rpb24gbWF4YWdlIChtYXhBZ2UpIHtcbiAgdGhpcy5fbWF4YWdlID0gdHlwZW9mIG1heEFnZSA9PT0gJ3N0cmluZydcbiAgICA/IG1zKG1heEFnZSlcbiAgICA6IE51bWJlcihtYXhBZ2UpXG4gIHRoaXMuX21heGFnZSA9ICFpc05hTih0aGlzLl9tYXhhZ2UpXG4gICAgPyBNYXRoLm1pbihNYXRoLm1heCgwLCB0aGlzLl9tYXhhZ2UpLCBNQVhfTUFYQUdFKVxuICAgIDogMFxuICBkZWJ1ZygnbWF4LWFnZSAlZCcsIHRoaXMuX21heGFnZSlcbiAgcmV0dXJuIHRoaXNcbn0sICdzZW5kLm1heGFnZTogcGFzcyBtYXhBZ2UgYXMgb3B0aW9uJylcblxuLyoqXG4gKiBFbWl0IGVycm9yIHdpdGggYHN0YXR1c2AuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1c1xuICogQHBhcmFtIHtFcnJvcn0gW2Vycl1cbiAqIEBwcml2YXRlXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiBlcnJvciAoc3RhdHVzLCBlcnIpIHtcbiAgLy8gZW1pdCBpZiBsaXN0ZW5lcnMgaW5zdGVhZCBvZiByZXNwb25kaW5nXG4gIGlmIChoYXNMaXN0ZW5lcnModGhpcywgJ2Vycm9yJykpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0KCdlcnJvcicsIGNyZWF0ZUh0dHBFcnJvcihzdGF0dXMsIGVycikpXG4gIH1cblxuICB2YXIgcmVzID0gdGhpcy5yZXNcbiAgdmFyIG1zZyA9IHN0YXR1c2VzLm1lc3NhZ2Vbc3RhdHVzXSB8fCBTdHJpbmcoc3RhdHVzKVxuICB2YXIgZG9jID0gY3JlYXRlSHRtbERvY3VtZW50KCdFcnJvcicsIGVzY2FwZUh0bWwobXNnKSlcblxuICAvLyBjbGVhciBleGlzdGluZyBoZWFkZXJzXG4gIGNsZWFySGVhZGVycyhyZXMpXG5cbiAgLy8gYWRkIGVycm9yIGhlYWRlcnNcbiAgaWYgKGVyciAmJiBlcnIuaGVhZGVycykge1xuICAgIHNldEhlYWRlcnMocmVzLCBlcnIuaGVhZGVycylcbiAgfVxuXG4gIC8vIHNlbmQgYmFzaWMgcmVzcG9uc2VcbiAgcmVzLnN0YXR1c0NvZGUgPSBzdGF0dXNcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvaHRtbDsgY2hhcnNldD1VVEYtOCcpXG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtTGVuZ3RoJywgQnVmZmVyLmJ5dGVMZW5ndGgoZG9jKSlcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1TZWN1cml0eS1Qb2xpY3knLCBcImRlZmF1bHQtc3JjICdub25lJ1wiKVxuICByZXMuc2V0SGVhZGVyKCdYLUNvbnRlbnQtVHlwZS1PcHRpb25zJywgJ25vc25pZmYnKVxuICByZXMuZW5kKGRvYylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGF0aG5hbWUgZW5kcyB3aXRoIFwiL1wiLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLmhhc1RyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBoYXNUcmFpbGluZ1NsYXNoICgpIHtcbiAgcmV0dXJuIHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0gPT09ICcvJ1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgaXMgYSBjb25kaXRpb25hbCBHRVQgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuaXNDb25kaXRpb25hbEdFVCA9IGZ1bmN0aW9uIGlzQ29uZGl0aW9uYWxHRVQgKCkge1xuICByZXR1cm4gdGhpcy5yZXEuaGVhZGVyc1snaWYtbWF0Y2gnXSB8fFxuICAgIHRoaXMucmVxLmhlYWRlcnNbJ2lmLXVubW9kaWZpZWQtc2luY2UnXSB8fFxuICAgIHRoaXMucmVxLmhlYWRlcnNbJ2lmLW5vbmUtbWF0Y2gnXSB8fFxuICAgIHRoaXMucmVxLmhlYWRlcnNbJ2lmLW1vZGlmaWVkLXNpbmNlJ11cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcmVxdWVzdCBwcmVjb25kaXRpb25zIGZhaWxlZC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuXG5TZW5kU3RyZWFtLnByb3RvdHlwZS5pc1ByZWNvbmRpdGlvbkZhaWx1cmUgPSBmdW5jdGlvbiBpc1ByZWNvbmRpdGlvbkZhaWx1cmUgKCkge1xuICB2YXIgcmVxID0gdGhpcy5yZXFcbiAgdmFyIHJlcyA9IHRoaXMucmVzXG5cbiAgLy8gaWYtbWF0Y2hcbiAgdmFyIG1hdGNoID0gcmVxLmhlYWRlcnNbJ2lmLW1hdGNoJ11cbiAgaWYgKG1hdGNoKSB7XG4gICAgdmFyIGV0YWcgPSByZXMuZ2V0SGVhZGVyKCdFVGFnJylcbiAgICByZXR1cm4gIWV0YWcgfHwgKG1hdGNoICE9PSAnKicgJiYgcGFyc2VUb2tlbkxpc3QobWF0Y2gpLmV2ZXJ5KGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hdGNoICE9PSBldGFnICYmIG1hdGNoICE9PSAnVy8nICsgZXRhZyAmJiAnVy8nICsgbWF0Y2ggIT09IGV0YWdcbiAgICB9KSlcbiAgfVxuXG4gIC8vIGlmLXVubW9kaWZpZWQtc2luY2VcbiAgdmFyIHVubW9kaWZpZWRTaW5jZSA9IHBhcnNlSHR0cERhdGUocmVxLmhlYWRlcnNbJ2lmLXVubW9kaWZpZWQtc2luY2UnXSlcbiAgaWYgKCFpc05hTih1bm1vZGlmaWVkU2luY2UpKSB7XG4gICAgdmFyIGxhc3RNb2RpZmllZCA9IHBhcnNlSHR0cERhdGUocmVzLmdldEhlYWRlcignTGFzdC1Nb2RpZmllZCcpKVxuICAgIHJldHVybiBpc05hTihsYXN0TW9kaWZpZWQpIHx8IGxhc3RNb2RpZmllZCA+IHVubW9kaWZpZWRTaW5jZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogU3RyaXAgdmFyaW91cyBjb250ZW50IGhlYWRlciBmaWVsZHMgZm9yIGEgY2hhbmdlIGluIGVudGl0eS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLnJlbW92ZUNvbnRlbnRIZWFkZXJGaWVsZHMgPSBmdW5jdGlvbiByZW1vdmVDb250ZW50SGVhZGVyRmllbGRzICgpIHtcbiAgdmFyIHJlcyA9IHRoaXMucmVzXG5cbiAgcmVzLnJlbW92ZUhlYWRlcignQ29udGVudC1FbmNvZGluZycpXG4gIHJlcy5yZW1vdmVIZWFkZXIoJ0NvbnRlbnQtTGFuZ3VhZ2UnKVxuICByZXMucmVtb3ZlSGVhZGVyKCdDb250ZW50LUxlbmd0aCcpXG4gIHJlcy5yZW1vdmVIZWFkZXIoJ0NvbnRlbnQtUmFuZ2UnKVxuICByZXMucmVtb3ZlSGVhZGVyKCdDb250ZW50LVR5cGUnKVxufVxuXG4vKipcbiAqIFJlc3BvbmQgd2l0aCAzMDQgbm90IG1vZGlmaWVkLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLm5vdE1vZGlmaWVkID0gZnVuY3Rpb24gbm90TW9kaWZpZWQgKCkge1xuICB2YXIgcmVzID0gdGhpcy5yZXNcbiAgZGVidWcoJ25vdCBtb2RpZmllZCcpXG4gIHRoaXMucmVtb3ZlQ29udGVudEhlYWRlckZpZWxkcygpXG4gIHJlcy5zdGF0dXNDb2RlID0gMzA0XG4gIHJlcy5lbmQoKVxufVxuXG4vKipcbiAqIFJhaXNlIGVycm9yIHRoYXQgaGVhZGVycyBhbHJlYWR5IHNlbnQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuaGVhZGVyc0FscmVhZHlTZW50ID0gZnVuY3Rpb24gaGVhZGVyc0FscmVhZHlTZW50ICgpIHtcbiAgdmFyIGVyciA9IG5ldyBFcnJvcignQ2FuXFwndCBzZXQgaGVhZGVycyBhZnRlciB0aGV5IGFyZSBzZW50LicpXG4gIGRlYnVnKCdoZWFkZXJzIGFscmVhZHkgc2VudCcpXG4gIHRoaXMuZXJyb3IoNTAwLCBlcnIpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHJlcXVlc3QgaXMgY2FjaGVhYmxlLCBha2FcbiAqIHJlc3BvbmRlZCB3aXRoIDJ4eCBvciAzMDQgKHNlZSBSRkMgMjYxNiBzZWN0aW9uIDE0LjJ7NSw2fSkuXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLmlzQ2FjaGFibGUgPSBmdW5jdGlvbiBpc0NhY2hhYmxlICgpIHtcbiAgdmFyIHN0YXR1c0NvZGUgPSB0aGlzLnJlcy5zdGF0dXNDb2RlXG4gIHJldHVybiAoc3RhdHVzQ29kZSA+PSAyMDAgJiYgc3RhdHVzQ29kZSA8IDMwMCkgfHxcbiAgICBzdGF0dXNDb2RlID09PSAzMDRcbn1cblxuLyoqXG4gKiBIYW5kbGUgc3RhdCgpIGVycm9yLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLm9uU3RhdEVycm9yID0gZnVuY3Rpb24gb25TdGF0RXJyb3IgKGVycm9yKSB7XG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgIGNhc2UgJ0VOQU1FVE9PTE9ORyc6XG4gICAgY2FzZSAnRU5PRU5UJzpcbiAgICBjYXNlICdFTk9URElSJzpcbiAgICAgIHRoaXMuZXJyb3IoNDA0LCBlcnJvcilcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIHRoaXMuZXJyb3IoNTAwLCBlcnJvcilcbiAgICAgIGJyZWFrXG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgY2FjaGUgaXMgZnJlc2guXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLmlzRnJlc2ggPSBmdW5jdGlvbiBpc0ZyZXNoICgpIHtcbiAgcmV0dXJuIGZyZXNoKHRoaXMucmVxLmhlYWRlcnMsIHtcbiAgICBldGFnOiB0aGlzLnJlcy5nZXRIZWFkZXIoJ0VUYWcnKSxcbiAgICAnbGFzdC1tb2RpZmllZCc6IHRoaXMucmVzLmdldEhlYWRlcignTGFzdC1Nb2RpZmllZCcpXG4gIH0pXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHJhbmdlIGlzIGZyZXNoLlxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5TZW5kU3RyZWFtLnByb3RvdHlwZS5pc1JhbmdlRnJlc2ggPSBmdW5jdGlvbiBpc1JhbmdlRnJlc2ggKCkge1xuICB2YXIgaWZSYW5nZSA9IHRoaXMucmVxLmhlYWRlcnNbJ2lmLXJhbmdlJ11cblxuICBpZiAoIWlmUmFuZ2UpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gaWYtcmFuZ2UgYXMgZXRhZ1xuICBpZiAoaWZSYW5nZS5pbmRleE9mKCdcIicpICE9PSAtMSkge1xuICAgIHZhciBldGFnID0gdGhpcy5yZXMuZ2V0SGVhZGVyKCdFVGFnJylcbiAgICByZXR1cm4gQm9vbGVhbihldGFnICYmIGlmUmFuZ2UuaW5kZXhPZihldGFnKSAhPT0gLTEpXG4gIH1cblxuICAvLyBpZi1yYW5nZSBhcyBtb2RpZmllZCBkYXRlXG4gIHZhciBsYXN0TW9kaWZpZWQgPSB0aGlzLnJlcy5nZXRIZWFkZXIoJ0xhc3QtTW9kaWZpZWQnKVxuICByZXR1cm4gcGFyc2VIdHRwRGF0ZShsYXN0TW9kaWZpZWQpIDw9IHBhcnNlSHR0cERhdGUoaWZSYW5nZSlcbn1cblxuLyoqXG4gKiBSZWRpcmVjdCB0byBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcHJpdmF0ZVxuICovXG5cblNlbmRTdHJlYW0ucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gcmVkaXJlY3QgKHBhdGgpIHtcbiAgdmFyIHJlcyA9IHRoaXMucmVzXG5cbiAgaWYgKGhhc0xpc3RlbmVycyh0aGlzLCAnZGlyZWN0b3J5JykpIHtcbiAgICB0aGlzLmVtaXQoJ2RpcmVjdG9yeScsIHJlcywgcGF0aClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICh0aGlzLmhhc1RyYWlsaW5nU2xhc2goKSkge1xuICAgIHRoaXMuZXJyb3IoNDAzKVxuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGxvYyA9IGVuY29kZVVybChjb2xsYXBzZUxlYWRpbmdTbGFzaGVzKHRoaXMucGF0aCArICcvJykpXG4gIHZhciBkb2MgPSBjcmVhdGVIdG1sRG9jdW1lbnQoJ1JlZGlyZWN0aW5nJywgJ1JlZGlyZWN0aW5nIHRvIDxhIGhyZWY9XCInICsgZXNjYXBlSHRtbChsb2MpICsgJ1wiPicgK1xuICAgIGVzY2FwZUh0bWwobG9jKSArICc8L2E+JylcblxuICAvLyByZWRpcmVjdFxuICByZXMuc3RhdHVzQ29kZSA9IDMwMVxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sOyBjaGFyc2V0PVVURi04JylcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1MZW5ndGgnLCBCdWZmZXIuYnl0ZUxlbmd0aChkb2MpKVxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVNlY3VyaXR5LVBvbGljeScsIFwiZGVmYXVsdC1zcmMgJ25vbmUnXCIpXG4gIHJlcy5zZXRIZWFkZXIoJ1gtQ29udGVudC1UeXBlLU9wdGlvbnMnLCAnbm9zbmlmZicpXG4gIHJlcy5zZXRIZWFkZXIoJ0xvY2F0aW9uJywgbG9jKVxuICByZXMuZW5kKGRvYylcbn1cblxuLyoqXG4gKiBQaXBlIHRvIGByZXMuXG4gKlxuICogQHBhcmFtIHtTdHJlYW19IHJlc1xuICogQHJldHVybiB7U3RyZWFtfSByZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uIHBpcGUgKHJlcykge1xuICAvLyByb290IHBhdGhcbiAgdmFyIHJvb3QgPSB0aGlzLl9yb290XG5cbiAgLy8gcmVmZXJlbmNlc1xuICB0aGlzLnJlcyA9IHJlc1xuXG4gIC8vIGRlY29kZSB0aGUgcGF0aFxuICB2YXIgcGF0aCA9IGRlY29kZSh0aGlzLnBhdGgpXG4gIGlmIChwYXRoID09PSAtMSkge1xuICAgIHRoaXMuZXJyb3IoNDAwKVxuICAgIHJldHVybiByZXNcbiAgfVxuXG4gIC8vIG51bGwgYnl0ZShzKVxuICBpZiAofnBhdGguaW5kZXhPZignXFwwJykpIHtcbiAgICB0aGlzLmVycm9yKDQwMClcbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICB2YXIgcGFydHNcbiAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICAvLyBub3JtYWxpemVcbiAgICBpZiAocGF0aCkge1xuICAgICAgcGF0aCA9IG5vcm1hbGl6ZSgnLicgKyBzZXAgKyBwYXRoKVxuICAgIH1cblxuICAgIC8vIG1hbGljaW91cyBwYXRoXG4gICAgaWYgKFVQX1BBVEhfUkVHRVhQLnRlc3QocGF0aCkpIHtcbiAgICAgIGRlYnVnKCdtYWxpY2lvdXMgcGF0aCBcIiVzXCInLCBwYXRoKVxuICAgICAgdGhpcy5lcnJvcig0MDMpXG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuXG4gICAgLy8gZXhwbG9kZSBwYXRoIHBhcnRzXG4gICAgcGFydHMgPSBwYXRoLnNwbGl0KHNlcClcblxuICAgIC8vIGpvaW4gLyBub3JtYWxpemUgZnJvbSBvcHRpb25hbCByb290IGRpclxuICAgIHBhdGggPSBub3JtYWxpemUoam9pbihyb290LCBwYXRoKSlcbiAgfSBlbHNlIHtcbiAgICAvLyBcIi4uXCIgaXMgbWFsaWNpb3VzIHdpdGhvdXQgXCJyb290XCJcbiAgICBpZiAoVVBfUEFUSF9SRUdFWFAudGVzdChwYXRoKSkge1xuICAgICAgZGVidWcoJ21hbGljaW91cyBwYXRoIFwiJXNcIicsIHBhdGgpXG4gICAgICB0aGlzLmVycm9yKDQwMylcbiAgICAgIHJldHVybiByZXNcbiAgICB9XG5cbiAgICAvLyBleHBsb2RlIHBhdGggcGFydHNcbiAgICBwYXJ0cyA9IG5vcm1hbGl6ZShwYXRoKS5zcGxpdChzZXApXG5cbiAgICAvLyByZXNvbHZlIHRoZSBwYXRoXG4gICAgcGF0aCA9IHJlc29sdmUocGF0aClcbiAgfVxuXG4gIC8vIGRvdGZpbGUgaGFuZGxpbmdcbiAgaWYgKGNvbnRhaW5zRG90RmlsZShwYXJ0cykpIHtcbiAgICB2YXIgYWNjZXNzID0gdGhpcy5fZG90ZmlsZXNcblxuICAgIC8vIGxlZ2FjeSBzdXBwb3J0XG4gICAgaWYgKGFjY2VzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhY2Nlc3MgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXVswXSA9PT0gJy4nXG4gICAgICAgID8gKHRoaXMuX2hpZGRlbiA/ICdhbGxvdycgOiAnaWdub3JlJylcbiAgICAgICAgOiAnYWxsb3cnXG4gICAgfVxuXG4gICAgZGVidWcoJyVzIGRvdGZpbGUgXCIlc1wiJywgYWNjZXNzLCBwYXRoKVxuICAgIHN3aXRjaCAoYWNjZXNzKSB7XG4gICAgICBjYXNlICdhbGxvdyc6XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkZW55JzpcbiAgICAgICAgdGhpcy5lcnJvcig0MDMpXG4gICAgICAgIHJldHVybiByZXNcbiAgICAgIGNhc2UgJ2lnbm9yZSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmVycm9yKDQwNClcbiAgICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgfVxuXG4gIC8vIGluZGV4IGZpbGUgc3VwcG9ydFxuICBpZiAodGhpcy5faW5kZXgubGVuZ3RoICYmIHRoaXMuaGFzVHJhaWxpbmdTbGFzaCgpKSB7XG4gICAgdGhpcy5zZW5kSW5kZXgocGF0aClcbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICB0aGlzLnNlbmRGaWxlKHBhdGgpXG4gIHJldHVybiByZXNcbn1cblxuLyoqXG4gKiBUcmFuc2ZlciBgcGF0aGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIHNlbmQgKHBhdGgsIHN0YXQpIHtcbiAgdmFyIGxlbiA9IHN0YXQuc2l6ZVxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuICB2YXIgb3B0cyA9IHt9XG4gIHZhciByZXMgPSB0aGlzLnJlc1xuICB2YXIgcmVxID0gdGhpcy5yZXFcbiAgdmFyIHJhbmdlcyA9IHJlcS5oZWFkZXJzLnJhbmdlXG4gIHZhciBvZmZzZXQgPSBvcHRpb25zLnN0YXJ0IHx8IDBcblxuICBpZiAoaGVhZGVyc1NlbnQocmVzKSkge1xuICAgIC8vIGltcG9zc2libGUgdG8gc2VuZCBub3dcbiAgICB0aGlzLmhlYWRlcnNBbHJlYWR5U2VudCgpXG4gICAgcmV0dXJuXG4gIH1cblxuICBkZWJ1ZygncGlwZSBcIiVzXCInLCBwYXRoKVxuXG4gIC8vIHNldCBoZWFkZXIgZmllbGRzXG4gIHRoaXMuc2V0SGVhZGVyKHBhdGgsIHN0YXQpXG5cbiAgLy8gc2V0IGNvbnRlbnQtdHlwZVxuICB0aGlzLnR5cGUocGF0aClcblxuICAvLyBjb25kaXRpb25hbCBHRVQgc3VwcG9ydFxuICBpZiAodGhpcy5pc0NvbmRpdGlvbmFsR0VUKCkpIHtcbiAgICBpZiAodGhpcy5pc1ByZWNvbmRpdGlvbkZhaWx1cmUoKSkge1xuICAgICAgdGhpcy5lcnJvcig0MTIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0NhY2hhYmxlKCkgJiYgdGhpcy5pc0ZyZXNoKCkpIHtcbiAgICAgIHRoaXMubm90TW9kaWZpZWQoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgLy8gYWRqdXN0IGxlbiB0byBzdGFydC9lbmQgb3B0aW9uc1xuICBsZW4gPSBNYXRoLm1heCgwLCBsZW4gLSBvZmZzZXQpXG4gIGlmIChvcHRpb25zLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGJ5dGVzID0gb3B0aW9ucy5lbmQgLSBvZmZzZXQgKyAxXG4gICAgaWYgKGxlbiA+IGJ5dGVzKSBsZW4gPSBieXRlc1xuICB9XG5cbiAgLy8gUmFuZ2Ugc3VwcG9ydFxuICBpZiAodGhpcy5fYWNjZXB0UmFuZ2VzICYmIEJZVEVTX1JBTkdFX1JFR0VYUC50ZXN0KHJhbmdlcykpIHtcbiAgICAvLyBwYXJzZVxuICAgIHJhbmdlcyA9IHBhcnNlUmFuZ2UobGVuLCByYW5nZXMsIHtcbiAgICAgIGNvbWJpbmU6IHRydWVcbiAgICB9KVxuXG4gICAgLy8gSWYtUmFuZ2Ugc3VwcG9ydFxuICAgIGlmICghdGhpcy5pc1JhbmdlRnJlc2goKSkge1xuICAgICAgZGVidWcoJ3JhbmdlIHN0YWxlJylcbiAgICAgIHJhbmdlcyA9IC0yXG4gICAgfVxuXG4gICAgLy8gdW5zYXRpc2ZpYWJsZVxuICAgIGlmIChyYW5nZXMgPT09IC0xKSB7XG4gICAgICBkZWJ1ZygncmFuZ2UgdW5zYXRpc2ZpYWJsZScpXG5cbiAgICAgIC8vIENvbnRlbnQtUmFuZ2VcbiAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtUmFuZ2UnLCBjb250ZW50UmFuZ2UoJ2J5dGVzJywgbGVuKSlcblxuICAgICAgLy8gNDE2IFJlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGVcbiAgICAgIHJldHVybiB0aGlzLmVycm9yKDQxNiwge1xuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVJhbmdlJzogcmVzLmdldEhlYWRlcignQ29udGVudC1SYW5nZScpIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gdmFsaWQgKHN5bnRhY3RpY2FsbHkgaW52YWxpZC9tdWx0aXBsZSByYW5nZXMgYXJlIHRyZWF0ZWQgYXMgYSByZWd1bGFyIHJlc3BvbnNlKVxuICAgIGlmIChyYW5nZXMgIT09IC0yICYmIHJhbmdlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGRlYnVnKCdyYW5nZSAlaicsIHJhbmdlcylcblxuICAgICAgLy8gQ29udGVudC1SYW5nZVxuICAgICAgcmVzLnN0YXR1c0NvZGUgPSAyMDZcbiAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtUmFuZ2UnLCBjb250ZW50UmFuZ2UoJ2J5dGVzJywgbGVuLCByYW5nZXNbMF0pKVxuXG4gICAgICAvLyBhZGp1c3QgZm9yIHJlcXVlc3RlZCByYW5nZVxuICAgICAgb2Zmc2V0ICs9IHJhbmdlc1swXS5zdGFydFxuICAgICAgbGVuID0gcmFuZ2VzWzBdLmVuZCAtIHJhbmdlc1swXS5zdGFydCArIDFcbiAgICB9XG4gIH1cblxuICAvLyBjbG9uZSBvcHRpb25zXG4gIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgIG9wdHNbcHJvcF0gPSBvcHRpb25zW3Byb3BdXG4gIH1cblxuICAvLyBzZXQgcmVhZCBvcHRpb25zXG4gIG9wdHMuc3RhcnQgPSBvZmZzZXRcbiAgb3B0cy5lbmQgPSBNYXRoLm1heChvZmZzZXQsIG9mZnNldCArIGxlbiAtIDEpXG5cbiAgLy8gY29udGVudC1sZW5ndGhcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1MZW5ndGgnLCBsZW4pXG5cbiAgLy8gSEVBRCBzdXBwb3J0XG4gIGlmIChyZXEubWV0aG9kID09PSAnSEVBRCcpIHtcbiAgICByZXMuZW5kKClcbiAgICByZXR1cm5cbiAgfVxuXG4gIHRoaXMuc3RyZWFtKHBhdGgsIG9wdHMpXG59XG5cbi8qKlxuICogVHJhbnNmZXIgZmlsZSBmb3IgYHBhdGhgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuU2VuZFN0cmVhbS5wcm90b3R5cGUuc2VuZEZpbGUgPSBmdW5jdGlvbiBzZW5kRmlsZSAocGF0aCkge1xuICB2YXIgaSA9IDBcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgZGVidWcoJ3N0YXQgXCIlc1wiJywgcGF0aClcbiAgZnMuc3RhdChwYXRoLCBmdW5jdGlvbiBvbnN0YXQgKGVyciwgc3RhdCkge1xuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09ICdFTk9FTlQnICYmICFleHRuYW1lKHBhdGgpICYmIHBhdGhbcGF0aC5sZW5ndGggLSAxXSAhPT0gc2VwKSB7XG4gICAgICAvLyBub3QgZm91bmQsIGNoZWNrIGV4dGVuc2lvbnNcbiAgICAgIHJldHVybiBuZXh0KGVycilcbiAgICB9XG4gICAgaWYgKGVycikgcmV0dXJuIHNlbGYub25TdGF0RXJyb3IoZXJyKVxuICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHJldHVybiBzZWxmLnJlZGlyZWN0KHBhdGgpXG4gICAgc2VsZi5lbWl0KCdmaWxlJywgcGF0aCwgc3RhdClcbiAgICBzZWxmLnNlbmQocGF0aCwgc3RhdClcbiAgfSlcblxuICBmdW5jdGlvbiBuZXh0IChlcnIpIHtcbiAgICBpZiAoc2VsZi5fZXh0ZW5zaW9ucy5sZW5ndGggPD0gaSkge1xuICAgICAgcmV0dXJuIGVyclxuICAgICAgICA/IHNlbGYub25TdGF0RXJyb3IoZXJyKVxuICAgICAgICA6IHNlbGYuZXJyb3IoNDA0KVxuICAgIH1cblxuICAgIHZhciBwID0gcGF0aCArICcuJyArIHNlbGYuX2V4dGVuc2lvbnNbaSsrXVxuXG4gICAgZGVidWcoJ3N0YXQgXCIlc1wiJywgcClcbiAgICBmcy5zdGF0KHAsIGZ1bmN0aW9uIChlcnIsIHN0YXQpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBuZXh0KGVycilcbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHJldHVybiBuZXh0KClcbiAgICAgIHNlbGYuZW1pdCgnZmlsZScsIHAsIHN0YXQpXG4gICAgICBzZWxmLnNlbmQocCwgc3RhdClcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmZXIgaW5kZXggZm9yIGBwYXRoYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQGFwaSBwcml2YXRlXG4gKi9cblNlbmRTdHJlYW0ucHJvdG90eXBlLnNlbmRJbmRleCA9IGZ1bmN0aW9uIHNlbmRJbmRleCAocGF0aCkge1xuICB2YXIgaSA9IC0xXG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIGZ1bmN0aW9uIG5leHQgKGVycikge1xuICAgIGlmICgrK2kgPj0gc2VsZi5faW5kZXgubGVuZ3RoKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gc2VsZi5vblN0YXRFcnJvcihlcnIpXG4gICAgICByZXR1cm4gc2VsZi5lcnJvcig0MDQpXG4gICAgfVxuXG4gICAgdmFyIHAgPSBqb2luKHBhdGgsIHNlbGYuX2luZGV4W2ldKVxuXG4gICAgZGVidWcoJ3N0YXQgXCIlc1wiJywgcClcbiAgICBmcy5zdGF0KHAsIGZ1bmN0aW9uIChlcnIsIHN0YXQpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBuZXh0KGVycilcbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHJldHVybiBuZXh0KClcbiAgICAgIHNlbGYuZW1pdCgnZmlsZScsIHAsIHN0YXQpXG4gICAgICBzZWxmLnNlbmQocCwgc3RhdClcbiAgICB9KVxuICB9XG5cbiAgbmV4dCgpXG59XG5cbi8qKlxuICogU3RyZWFtIGBwYXRoYCB0byB0aGUgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5TZW5kU3RyZWFtLnByb3RvdHlwZS5zdHJlYW0gPSBmdW5jdGlvbiBzdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHZhciByZXMgPSB0aGlzLnJlc1xuXG4gIC8vIHBpcGVcbiAgdmFyIHN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0ocGF0aCwgb3B0aW9ucylcbiAgdGhpcy5lbWl0KCdzdHJlYW0nLCBzdHJlYW0pXG4gIHN0cmVhbS5waXBlKHJlcylcblxuICAvLyBjbGVhbnVwXG4gIGZ1bmN0aW9uIGNsZWFudXAgKCkge1xuICAgIGRlc3Ryb3koc3RyZWFtLCB0cnVlKVxuICB9XG5cbiAgLy8gcmVzcG9uc2UgZmluaXNoZWQsIGNsZWFudXBcbiAgb25GaW5pc2hlZChyZXMsIGNsZWFudXApXG5cbiAgLy8gZXJyb3IgaGFuZGxpbmdcbiAgc3RyZWFtLm9uKCdlcnJvcicsIGZ1bmN0aW9uIG9uZXJyb3IgKGVycikge1xuICAgIC8vIGNsZWFuIHVwIHN0cmVhbSBlYXJseVxuICAgIGNsZWFudXAoKVxuXG4gICAgLy8gZXJyb3JcbiAgICBzZWxmLm9uU3RhdEVycm9yKGVycilcbiAgfSlcblxuICAvLyBlbmRcbiAgc3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiBvbmVuZCAoKSB7XG4gICAgc2VsZi5lbWl0KCdlbmQnKVxuICB9KVxufVxuXG4vKipcbiAqIFNldCBjb250ZW50LXR5cGUgYmFzZWQgb24gYHBhdGhgXG4gKiBpZiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU2VuZFN0cmVhbS5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uIHR5cGUgKHBhdGgpIHtcbiAgdmFyIHJlcyA9IHRoaXMucmVzXG5cbiAgaWYgKHJlcy5nZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScpKSByZXR1cm5cblxuICB2YXIgdHlwZSA9IG1pbWUubG9va3VwKHBhdGgpXG5cbiAgaWYgKCF0eXBlKSB7XG4gICAgZGVidWcoJ25vIGNvbnRlbnQtdHlwZScpXG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY2hhcnNldCA9IG1pbWUuY2hhcnNldHMubG9va3VwKHR5cGUpXG5cbiAgZGVidWcoJ2NvbnRlbnQtdHlwZSAlcycsIHR5cGUpXG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsIHR5cGUgKyAoY2hhcnNldCA/ICc7IGNoYXJzZXQ9JyArIGNoYXJzZXQgOiAnJykpXG59XG5cbi8qKlxuICogU2V0IHJlc3BvbnNlIGhlYWRlciBmaWVsZHMsIG1vc3RcbiAqIGZpZWxkcyBtYXkgYmUgcHJlLWRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5TZW5kU3RyZWFtLnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbiBzZXRIZWFkZXIgKHBhdGgsIHN0YXQpIHtcbiAgdmFyIHJlcyA9IHRoaXMucmVzXG5cbiAgdGhpcy5lbWl0KCdoZWFkZXJzJywgcmVzLCBwYXRoLCBzdGF0KVxuXG4gIGlmICh0aGlzLl9hY2NlcHRSYW5nZXMgJiYgIXJlcy5nZXRIZWFkZXIoJ0FjY2VwdC1SYW5nZXMnKSkge1xuICAgIGRlYnVnKCdhY2NlcHQgcmFuZ2VzJylcbiAgICByZXMuc2V0SGVhZGVyKCdBY2NlcHQtUmFuZ2VzJywgJ2J5dGVzJylcbiAgfVxuXG4gIGlmICh0aGlzLl9jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgIHZhciBjYWNoZUNvbnRyb2wgPSAncHVibGljLCBtYXgtYWdlPScgKyBNYXRoLmZsb29yKHRoaXMuX21heGFnZSAvIDEwMDApXG5cbiAgICBpZiAodGhpcy5faW1tdXRhYmxlKSB7XG4gICAgICBjYWNoZUNvbnRyb2wgKz0gJywgaW1tdXRhYmxlJ1xuICAgIH1cblxuICAgIGRlYnVnKCdjYWNoZS1jb250cm9sICVzJywgY2FjaGVDb250cm9sKVxuICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCBjYWNoZUNvbnRyb2wpXG4gIH1cblxuICBpZiAodGhpcy5fbGFzdE1vZGlmaWVkICYmICFyZXMuZ2V0SGVhZGVyKCdMYXN0LU1vZGlmaWVkJykpIHtcbiAgICB2YXIgbW9kaWZpZWQgPSBzdGF0Lm10aW1lLnRvVVRDU3RyaW5nKClcbiAgICBkZWJ1ZygnbW9kaWZpZWQgJXMnLCBtb2RpZmllZClcbiAgICByZXMuc2V0SGVhZGVyKCdMYXN0LU1vZGlmaWVkJywgbW9kaWZpZWQpXG4gIH1cblxuICBpZiAodGhpcy5fZXRhZyAmJiAhcmVzLmdldEhlYWRlcignRVRhZycpKSB7XG4gICAgdmFyIHZhbCA9IGV0YWcoc3RhdClcbiAgICBkZWJ1ZygnZXRhZyAlcycsIHZhbClcbiAgICByZXMuc2V0SGVhZGVyKCdFVGFnJywgdmFsKVxuICB9XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIGhlYWRlcnMgZnJvbSBhIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY2xlYXJIZWFkZXJzIChyZXMpIHtcbiAgdmFyIGhlYWRlcnMgPSBnZXRIZWFkZXJOYW1lcyhyZXMpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnJlbW92ZUhlYWRlcihoZWFkZXJzW2ldKVxuICB9XG59XG5cbi8qKlxuICogQ29sbGFwc2UgYWxsIGxlYWRpbmcgc2xhc2hlcyBpbnRvIGEgc2luZ2xlIHNsYXNoXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29sbGFwc2VMZWFkaW5nU2xhc2hlcyAoc3RyKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0cltpXSAhPT0gJy8nKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpID4gMVxuICAgID8gJy8nICsgc3RyLnN1YnN0cihpKVxuICAgIDogc3RyXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHBhdGggcGFydHMgY29udGFpbiBhIGRvdGZpbGUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29udGFpbnNEb3RGaWxlIChwYXJ0cykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhcnQgPSBwYXJ0c1tpXVxuICAgIGlmIChwYXJ0Lmxlbmd0aCA+IDEgJiYgcGFydFswXSA9PT0gJy4nKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIENvbnRlbnQtUmFuZ2UgaGVhZGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZVxuICogQHBhcmFtIHthcnJheX0gW3JhbmdlXVxuICovXG5cbmZ1bmN0aW9uIGNvbnRlbnRSYW5nZSAodHlwZSwgc2l6ZSwgcmFuZ2UpIHtcbiAgcmV0dXJuIHR5cGUgKyAnICcgKyAocmFuZ2UgPyByYW5nZS5zdGFydCArICctJyArIHJhbmdlLmVuZCA6ICcqJykgKyAnLycgKyBzaXplXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbWluaW1hbCBIVE1MIGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxuICogQHBhcmFtIHtzdHJpbmd9IGJvZHlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlSHRtbERvY3VtZW50ICh0aXRsZSwgYm9keSkge1xuICByZXR1cm4gJzwhRE9DVFlQRSBodG1sPlxcbicgK1xuICAgICc8aHRtbCBsYW5nPVwiZW5cIj5cXG4nICtcbiAgICAnPGhlYWQ+XFxuJyArXG4gICAgJzxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxcbicgK1xuICAgICc8dGl0bGU+JyArIHRpdGxlICsgJzwvdGl0bGU+XFxuJyArXG4gICAgJzwvaGVhZD5cXG4nICtcbiAgICAnPGJvZHk+XFxuJyArXG4gICAgJzxwcmU+JyArIGJvZHkgKyAnPC9wcmU+XFxuJyArXG4gICAgJzwvYm9keT5cXG4nICtcbiAgICAnPC9odG1sPlxcbidcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBIdHRwRXJyb3Igb2JqZWN0IGZyb20gc2ltcGxlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG4gKiBAcGFyYW0ge0Vycm9yfG9iamVjdH0gZXJyXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZUh0dHBFcnJvciAoc3RhdHVzLCBlcnIpIHtcbiAgaWYgKCFlcnIpIHtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3Ioc3RhdHVzKVxuICB9XG5cbiAgcmV0dXJuIGVyciBpbnN0YW5jZW9mIEVycm9yXG4gICAgPyBjcmVhdGVFcnJvcihzdGF0dXMsIGVyciwgeyBleHBvc2U6IGZhbHNlIH0pXG4gICAgOiBjcmVhdGVFcnJvcihzdGF0dXMsIGVycilcbn1cblxuLyoqXG4gKiBkZWNvZGVVUklDb21wb25lbnQuXG4gKlxuICogQWxsb3dzIFY4IHRvIG9ubHkgZGVvcHRpbWl6ZSB0aGlzIGZuIGluc3RlYWQgb2YgYWxsXG4gKiBvZiBzZW5kKCkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGRlY29kZSAocGF0aCkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGF0aClcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIGhlYWRlciBuYW1lcyBvbiBhIHJlc3Buc2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICogQHJldHVybnMge2FycmF5W3N0cmluZ119XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGdldEhlYWRlck5hbWVzIChyZXMpIHtcbiAgcmV0dXJuIHR5cGVvZiByZXMuZ2V0SGVhZGVyTmFtZXMgIT09ICdmdW5jdGlvbidcbiAgICA/IE9iamVjdC5rZXlzKHJlcy5faGVhZGVycyB8fCB7fSlcbiAgICA6IHJlcy5nZXRIZWFkZXJOYW1lcygpXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGVtaXR0ZXIgaGFzIGxpc3RlbmVycyBvZiBhIGdpdmVuIHR5cGUuXG4gKlxuICogVGhlIHdheSB0byBkbyB0aGlzIGNoZWNrIGlzIGRvbmUgdGhyZWUgZGlmZmVyZW50IHdheXMgaW4gTm9kZS5qcyA+PSAwLjhcbiAqIHNvIHRoaXMgY29uc29saWRhdGVzIHRoZW0gaW50byBhIG1pbmltYWwgc2V0IHVzaW5nIGluc3RhbmNlIG1ldGhvZHMuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaGFzTGlzdGVuZXJzIChlbWl0dGVyLCB0eXBlKSB7XG4gIHZhciBjb3VudCA9IHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgIT09ICdmdW5jdGlvbidcbiAgICA/IGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aFxuICAgIDogZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpXG5cbiAgcmV0dXJuIGNvdW50ID4gMFxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgcmVzcG9uc2UgaGVhZGVycyBoYXZlIGJlZW4gc2VudC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaGVhZGVyc1NlbnQgKHJlcykge1xuICByZXR1cm4gdHlwZW9mIHJlcy5oZWFkZXJzU2VudCAhPT0gJ2Jvb2xlYW4nXG4gICAgPyBCb29sZWFuKHJlcy5faGVhZGVyKVxuICAgIDogcmVzLmhlYWRlcnNTZW50XG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBpbmRleCBvcHRpb24gaW50byBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfGFycmF5fSB2YWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxpc3QgKHZhbCwgbmFtZSkge1xuICB2YXIgbGlzdCA9IFtdLmNvbmNhdCh2YWwgfHwgW10pXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0W2ldICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihuYW1lICsgJyBtdXN0IGJlIGFycmF5IG9mIHN0cmluZ3Mgb3IgZmFsc2UnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsaXN0XG59XG5cbi8qKlxuICogUGFyc2UgYW4gSFRUUCBEYXRlIGludG8gYSBudW1iZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGVcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VIdHRwRGF0ZSAoZGF0ZSkge1xuICB2YXIgdGltZXN0YW1wID0gZGF0ZSAmJiBEYXRlLnBhcnNlKGRhdGUpXG5cbiAgcmV0dXJuIHR5cGVvZiB0aW1lc3RhbXAgPT09ICdudW1iZXInXG4gICAgPyB0aW1lc3RhbXBcbiAgICA6IE5hTlxufVxuXG4vKipcbiAqIFBhcnNlIGEgSFRUUCB0b2tlbiBsaXN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VUb2tlbkxpc3QgKHN0cikge1xuICB2YXIgZW5kID0gMFxuICB2YXIgbGlzdCA9IFtdXG4gIHZhciBzdGFydCA9IDBcblxuICAvLyBnYXRoZXIgdG9rZW5zXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICBjYXNlIDB4MjA6IC8qICAgKi9cbiAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgICBzdGFydCA9IGVuZCA9IGkgKyAxXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMHgyYzogLyogLCAqL1xuICAgICAgICBpZiAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICAgIGxpc3QucHVzaChzdHIuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpKVxuICAgICAgICB9XG4gICAgICAgIHN0YXJ0ID0gZW5kID0gaSArIDFcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVuZCA9IGkgKyAxXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gZmluYWwgdG9rZW5cbiAgaWYgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICBsaXN0LnB1c2goc3RyLnN1YnN0cmluZyhzdGFydCwgZW5kKSlcbiAgfVxuXG4gIHJldHVybiBsaXN0XG59XG5cbi8qKlxuICogU2V0IGFuIG9iamVjdCBvZiBoZWFkZXJzIG9uIGEgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICogQHBhcmFtIHtvYmplY3R9IGhlYWRlcnNcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2V0SGVhZGVycyAocmVzLCBoZWFkZXJzKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaGVhZGVycylcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXVxuICAgIHJlcy5zZXRIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVFcnJvciIsImRlYnVnIiwiZGVwcmVjYXRlIiwiZGVzdHJveSIsImVuY29kZVVybCIsImVzY2FwZUh0bWwiLCJldGFnIiwiZnJlc2giLCJmcyIsIm1pbWUiLCJtcyIsIm9uRmluaXNoZWQiLCJwYXJzZVJhbmdlIiwicGF0aCIsInN0YXR1c2VzIiwiU3RyZWFtIiwidXRpbCIsImV4dG5hbWUiLCJqb2luIiwibm9ybWFsaXplIiwicmVzb2x2ZSIsInNlcCIsIkJZVEVTX1JBTkdFX1JFR0VYUCIsIk1BWF9NQVhBR0UiLCJVUF9QQVRIX1JFR0VYUCIsIlNlbmRTdHJlYW0iLCJyZXEiLCJvcHRpb25zIiwiY2FsbCIsInRoaXMiLCJvcHRzIiwiX2FjY2VwdFJhbmdlcyIsInVuZGVmaW5lZCIsImFjY2VwdFJhbmdlcyIsIkJvb2xlYW4iLCJfY2FjaGVDb250cm9sIiwiY2FjaGVDb250cm9sIiwiX2V0YWciLCJfZG90ZmlsZXMiLCJkb3RmaWxlcyIsIlR5cGVFcnJvciIsIl9oaWRkZW4iLCJoaWRkZW4iLCJfZXh0ZW5zaW9ucyIsImV4dGVuc2lvbnMiLCJub3JtYWxpemVMaXN0IiwiX2ltbXV0YWJsZSIsImltbXV0YWJsZSIsIl9pbmRleCIsImluZGV4IiwiX2xhc3RNb2RpZmllZCIsImxhc3RNb2RpZmllZCIsIl9tYXhhZ2UiLCJtYXhBZ2UiLCJtYXhhZ2UiLCJOdW1iZXIiLCJpc05hTiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJfcm9vdCIsInJvb3QiLCJmcm9tIiwiY29udGVudFJhbmdlIiwidHlwZSIsInNpemUiLCJyYW5nZSIsInN0YXJ0IiwiZW5kIiwiY3JlYXRlSHRtbERvY3VtZW50IiwidGl0bGUiLCJib2R5IiwiaGFzTGlzdGVuZXJzIiwiZW1pdHRlciIsImxpc3RlbmVyQ291bnQiLCJsaXN0ZW5lcnMiLCJsZW5ndGgiLCJ2YWwiLCJuYW1lIiwibGlzdCIsImNvbmNhdCIsImkiLCJwYXJzZUh0dHBEYXRlIiwiZGF0ZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJwYXJzZSIsIk5hTiIsIm1vZHVsZSIsImV4cG9ydHMiLCJpbmhlcml0cyIsInByb3RvdHlwZSIsImZ1bmN0aW9uIiwicGF0aHMiLCJTdHJpbmciLCJlcnJvciIsInN0YXR1cyIsImVyciIsImVtaXQiLCJFcnJvciIsImV4cG9zZSIsImNyZWF0ZUh0dHBFcnJvciIsInJlcyIsIm1zZyIsIm1lc3NhZ2UiLCJkb2MiLCJoZWFkZXJzIiwiZ2V0SGVhZGVyTmFtZXMiLCJPYmplY3QiLCJrZXlzIiwiX2hlYWRlcnMiLCJyZW1vdmVIZWFkZXIiLCJjbGVhckhlYWRlcnMiLCJrZXkiLCJzZXRIZWFkZXIiLCJzZXRIZWFkZXJzIiwic3RhdHVzQ29kZSIsIkJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJoYXNUcmFpbGluZ1NsYXNoIiwiaXNDb25kaXRpb25hbEdFVCIsImlzUHJlY29uZGl0aW9uRmFpbHVyZSIsIm1hdGNoIiwiZ2V0SGVhZGVyIiwic3RyIiwibGVuIiwiY2hhckNvZGVBdCIsInB1c2giLCJzdWJzdHJpbmciLCJwYXJzZVRva2VuTGlzdCIsImV2ZXJ5IiwidW5tb2RpZmllZFNpbmNlIiwicmVtb3ZlQ29udGVudEhlYWRlckZpZWxkcyIsIm5vdE1vZGlmaWVkIiwiaGVhZGVyc0FscmVhZHlTZW50IiwiaXNDYWNoYWJsZSIsIm9uU3RhdEVycm9yIiwiY29kZSIsImlzRnJlc2giLCJpc1JhbmdlRnJlc2giLCJpZlJhbmdlIiwiaW5kZXhPZiIsInJlZGlyZWN0IiwibG9jIiwic3Vic3RyIiwiY29sbGFwc2VMZWFkaW5nU2xhc2hlcyIsInBpcGUiLCJwYXJ0cyIsImRlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZSIsInRlc3QiLCJzcGxpdCIsInBhcnQiLCJjb250YWluc0RvdEZpbGUiLCJhY2Nlc3MiLCJzZW5kSW5kZXgiLCJzZW5kRmlsZSIsInNlbmQiLCJzdGF0IiwicmFuZ2VzIiwib2Zmc2V0IiwiaGVhZGVyc1NlbnQiLCJfaGVhZGVyIiwiYnl0ZXMiLCJjb21iaW5lIiwicHJvcCIsIm1ldGhvZCIsInN0cmVhbSIsInNlbGYiLCJuZXh0IiwicCIsImlzRGlyZWN0b3J5IiwiY3JlYXRlUmVhZFN0cmVhbSIsImNsZWFudXAiLCJvbiIsImxvb2t1cCIsImNoYXJzZXQiLCJjaGFyc2V0cyIsImZsb29yIiwibW9kaWZpZWQiLCJtdGltZSIsInRvVVRDU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==