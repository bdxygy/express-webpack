"use strict";exports.id="mod-node_modules_body-parser_lib_types_urlencoded_js-8a818e96",exports.ids=["mod-node_modules_body-parser_lib_types_urlencoded_js-8a818e96"],exports.modules={"./node_modules/body-parser/lib/types/urlencoded.js":(e,r,t)=>{var o=t("./node_modules/bytes/index.js"),n=t("./node_modules/content-type/index.js"),i=t("./node_modules/http-errors/index.js"),d=t("./node_modules/debug/src/index.js")("body-parser:urlencoded"),a=t("./node_modules/depd/index.js")("body-parser"),s=t("./node_modules/body-parser/lib/read.js"),u=t("./node_modules/type-is/index.js");e.exports=function(e){var r=e||{};void 0===r.extended&&a("undefined extended: provide extended option");var t=!1!==r.extended,p=!1!==r.inflate,c="number"!=typeof r.limit?o.parse(r.limit||"100kb"):r.limit,f=r.type||"application/x-www-form-urlencoded",l=r.verify||!1;if(!1!==l&&"function"!=typeof l)throw new TypeError("option verify must be function");var v=t?function(e){var r=void 0!==e.parameterLimit?e.parameterLimit:1e3,t=y("qs");if(isNaN(r)||r<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(r)&&(r|=0);return function(e){var o=m(e,r);if(void 0===o)throw d("too many parameters"),i(413,"too many parameters",{type:"parameters.too.many"});var n=Math.max(100,o);return d("parse extended urlencoding"),t(e,{allowPrototypes:!0,arrayLimit:n,depth:1/0,parameterLimit:r})}}(r):function(e){var r=void 0!==e.parameterLimit?e.parameterLimit:1e3,t=y("querystring");if(isNaN(r)||r<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(r)&&(r|=0);return function(e){if(void 0===m(e,r))throw d("too many parameters"),i(413,"too many parameters",{type:"parameters.too.many"});return d("parse urlencoding"),t(e,void 0,void 0,{maxKeys:r})}}(r),b="function"!=typeof f?function(e){return function(r){return Boolean(u(r,e))}}(f):f;function _(e){return e.length?v(e):{}}return function(e,r,t){if(e._body)return d("body already parsed"),void t();if(e.body=e.body||{},!u.hasBody(e))return d("skip empty body"),void t();if(d("content-type %j",e.headers["content-type"]),!b(e))return d("skip parsing"),void t();var o=function(e){try{return(n.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||"utf-8";if("utf-8"!==o)return d("invalid charset"),void t(i(415,'unsupported charset "'+o.toUpperCase()+'"',{charset:o,type:"charset.unsupported"}));s(e,r,t,_,d,{debug:d,encoding:o,inflate:p,limit:c,verify:l})}};var p=Object.create(null);function m(e,r){for(var t=0,o=0;-1!==(o=e.indexOf("&",o));)if(o++,++t===r)return;return t}function y(e){var r=p[e];if(void 0!==r)return r.parse;switch(e){case"qs":r=t("./node_modules/qs/lib/index.js");break;case"querystring":r=t("querystring")}return p[e]=r,r.parse}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLW5vZGVfbW9kdWxlc19ib2R5LXBhcnNlcl9saWJfdHlwZXNfdXJsZW5jb2RlZF9qcy04YTgxOGU5Ni5qcyIsIm1hcHBpbmdzIjoic1BBY0EsSUFBSUEsRUFBUSxFQUFRLGlDQUNoQkMsRUFBYyxFQUFRLHdDQUN0QkMsRUFBYyxFQUFRLHVDQUN0QkMsRUFBUSxFQUFRLG9DQUFSLENBQWlCLDBCQUN6QkMsRUFBWSxFQUFRLCtCQUFSLENBQWdCLGVBQzVCQyxFQUFPLEVBQVEsMENBQ2ZDLEVBQVMsRUFBUSxtQ0FNckJDLEVBQU9DLFFBZ0JQLFNBQXFCQyxHQUNuQixJQUFJQyxFQUFPRCxHQUFXLENBQUMsT0FHREUsSUFBbEJELEVBQUtFLFVBQ1BSLEVBQVUsK0NBR1osSUFBSVEsR0FBNkIsSUFBbEJGLEVBQUtFLFNBQ2hCQyxHQUEyQixJQUFqQkgsRUFBS0csUUFDZkMsRUFBOEIsaUJBQWZKLEVBQUtJLE1BQ3BCZCxFQUFNZSxNQUFNTCxFQUFLSSxPQUFTLFNBQzFCSixFQUFLSSxNQUNMRSxFQUFPTixFQUFLTSxNQUFRLG9DQUNwQkMsRUFBU1AsRUFBS08sU0FBVSxFQUU1QixJQUFlLElBQVhBLEdBQXNDLG1CQUFYQSxFQUM3QixNQUFNLElBQUlDLFVBQVUsa0NBSXRCLElBQUlDLEVBQWFQLEVBb0VuQixTQUF5QkgsR0FDdkIsSUFBSVcsT0FBNENULElBQTNCRixFQUFRVyxlQUN6QlgsRUFBUVcsZUFDUixJQUNBTCxFQUFRTSxFQUFPLE1BRW5CLEdBQUlDLE1BQU1GLElBQW1CQSxFQUFpQixFQUM1QyxNQUFNLElBQUlGLFVBQVUsbURBR2xCSyxTQUFTSCxLQUNYQSxHQUFrQyxHQUdwQyxPQUFPLFNBQXFCSSxHQUMxQixJQUFJQyxFQUFhQyxFQUFlRixFQUFNSixHQUV0QyxRQUFtQlQsSUFBZmMsRUFFRixNQURBdEIsRUFBTSx1QkFDQUQsRUFBWSxJQUFLLHNCQUF1QixDQUM1Q2MsS0FBTSx3QkFJVixJQUFJVyxFQUFhQyxLQUFLQyxJQUFJLElBQUtKLEdBRy9CLE9BREF0QixFQUFNLDhCQUNDWSxFQUFNUyxFQUFNLENBQ2pCTSxpQkFBaUIsRUFDakJILFdBQVlBLEVBQ1pJLE1BQU9DLElBQ1BaLGVBQWdCQSxHQUVwQixDQUNGLENBckdNYSxDQUFldkIsR0FtTHJCLFNBQXVCRCxHQUNyQixJQUFJVyxPQUE0Q1QsSUFBM0JGLEVBQVFXLGVBQ3pCWCxFQUFRVyxlQUNSLElBQ0FMLEVBQVFNLEVBQU8sZUFFbkIsR0FBSUMsTUFBTUYsSUFBbUJBLEVBQWlCLEVBQzVDLE1BQU0sSUFBSUYsVUFBVSxtREFHbEJLLFNBQVNILEtBQ1hBLEdBQWtDLEdBR3BDLE9BQU8sU0FBcUJJLEdBRzFCLFFBQW1CYixJQUZGZSxFQUFlRixFQUFNSixHQUlwQyxNQURBakIsRUFBTSx1QkFDQUQsRUFBWSxJQUFLLHNCQUF1QixDQUM1Q2MsS0FBTSx3QkFLVixPQURBYixFQUFNLHFCQUNDWSxFQUFNUyxPQUFNYixPQUFXQSxFQUFXLENBQUV1QixRQUFTZCxHQUN0RCxDQUNGLENBN01NZSxDQUFhekIsR0FHYjBCLEVBQThCLG1CQUFUcEIsRUFtTjNCLFNBQXNCQSxHQUNwQixPQUFPLFNBQW9CcUIsR0FDekIsT0FBT0MsUUFBUWhDLEVBQU8rQixFQUFLckIsR0FDN0IsQ0FDRixDQXROTXVCLENBQVl2QixHQUNaQSxFQUVKLFNBQVNELEVBQU9TLEdBQ2QsT0FBT0EsRUFBS2dCLE9BQ1JyQixFQUFXSyxHQUNYLENBQUMsQ0FDUCxDQUVBLE9BQU8sU0FBMkJhLEVBQUtJLEVBQUtDLEdBQzFDLEdBQUlMLEVBQUlNLE1BR04sT0FGQXhDLEVBQU0sNEJBQ051QyxJQU9GLEdBSEFMLEVBQUliLEtBQU9hLEVBQUliLE1BQVEsQ0FBQyxHQUduQmxCLEVBQU9zQyxRQUFRUCxHQUdsQixPQUZBbEMsRUFBTSx3QkFDTnVDLElBT0YsR0FIQXZDLEVBQU0sa0JBQW1Ca0MsRUFBSVEsUUFBUSxrQkFHaENULEVBQVlDLEdBR2YsT0FGQWxDLEVBQU0scUJBQ051QyxJQUtGLElBQUlJLEVBc0VSLFNBQXFCVCxHQUNuQixJQUNFLE9BQVFwQyxFQUFZYyxNQUFNc0IsR0FBS1UsV0FBV0QsU0FBVyxJQUFJRSxhQUMzRCxDQUFFLE1BQU9DLEdBQ1AsTUFDRixDQUNGLENBNUVrQkMsQ0FBV2IsSUFBUSxRQUNqQyxHQUFnQixVQUFaUyxFQU1GLE9BTEEzQyxFQUFNLHdCQUNOdUMsRUFBS3hDLEVBQVksSUFBSyx3QkFBMEI0QyxFQUFRSyxjQUFnQixJQUFLLENBQzNFTCxRQUFTQSxFQUNUOUIsS0FBTSx5QkFNVlgsRUFBS2dDLEVBQUtJLEVBQUtDLEVBQU0zQixFQUFPWixFQUFPLENBQ2pDQSxNQUFPQSxFQUNQaUQsU0FBVU4sRUFDVmpDLFFBQVNBLEVBQ1RDLE1BQU9BLEVBQ1BHLE9BQVFBLEdBRVosQ0FDRixFQTNGQSxJQUFJb0MsRUFBVUMsT0FBT0MsT0FBTyxNQThKNUIsU0FBUzdCLEVBQWdCRixFQUFNVixHQUk3QixJQUhBLElBQUkwQyxFQUFRLEVBQ1JDLEVBQVEsR0FFbUMsS0FBdkNBLEVBQVFqQyxFQUFLa0MsUUFBUSxJQUFLRCxLQUloQyxHQUZBQSxNQURBRCxJQUdjMUMsRUFDWixPQUlKLE9BQU8wQyxDQUNULENBVUEsU0FBU25DLEVBQVFzQyxHQUNmLElBQUlDLEVBQU1QLEVBQVFNLEdBRWxCLFFBQVloRCxJQUFSaUQsRUFDRixPQUFPQSxFQUFJN0MsTUFJYixPQUFRNEMsR0FDTixJQUFLLEtBQ0hDLEVBQU0sRUFBUSxrQ0FDZCxNQUNGLElBQUssY0FDSEEsRUFBTSxFQUFRLGVBT2xCLE9BRkFQLEVBQVFNLEdBQVFDLEVBRVRBLEVBQUk3QyxLQUNiLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmR4eWd5L2V4cHJlc3Mtd2VicGFjay8uL25vZGVfbW9kdWxlcy9ib2R5LXBhcnNlci9saWIvdHlwZXMvdXJsZW5jb2RlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGJvZHktcGFyc2VyXG4gKiBDb3B5cmlnaHQoYykgMjAxNCBKb25hdGhhbiBPbmdcbiAqIENvcHlyaWdodChjKSAyMDE0LTIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBieXRlcyA9IHJlcXVpcmUoJ2J5dGVzJylcbnZhciBjb250ZW50VHlwZSA9IHJlcXVpcmUoJ2NvbnRlbnQtdHlwZScpXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCdodHRwLWVycm9ycycpXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdib2R5LXBhcnNlcjp1cmxlbmNvZGVkJylcbnZhciBkZXByZWNhdGUgPSByZXF1aXJlKCdkZXBkJykoJ2JvZHktcGFyc2VyJylcbnZhciByZWFkID0gcmVxdWlyZSgnLi4vcmVhZCcpXG52YXIgdHlwZWlzID0gcmVxdWlyZSgndHlwZS1pcycpXG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB1cmxlbmNvZGVkXG5cbi8qKlxuICogQ2FjaGUgb2YgcGFyc2VyIG1vZHVsZXMuXG4gKi9cblxudmFyIHBhcnNlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG5cbi8qKlxuICogQ3JlYXRlIGEgbWlkZGxld2FyZSB0byBwYXJzZSB1cmxlbmNvZGVkIGJvZGllcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiB1cmxlbmNvZGVkIChvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fVxuXG4gIC8vIG5vdGljZSBiZWNhdXNlIG9wdGlvbiBkZWZhdWx0IHdpbGwgZmxpcCBpbiBuZXh0IG1ham9yXG4gIGlmIChvcHRzLmV4dGVuZGVkID09PSB1bmRlZmluZWQpIHtcbiAgICBkZXByZWNhdGUoJ3VuZGVmaW5lZCBleHRlbmRlZDogcHJvdmlkZSBleHRlbmRlZCBvcHRpb24nKVxuICB9XG5cbiAgdmFyIGV4dGVuZGVkID0gb3B0cy5leHRlbmRlZCAhPT0gZmFsc2VcbiAgdmFyIGluZmxhdGUgPSBvcHRzLmluZmxhdGUgIT09IGZhbHNlXG4gIHZhciBsaW1pdCA9IHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAnbnVtYmVyJ1xuICAgID8gYnl0ZXMucGFyc2Uob3B0cy5saW1pdCB8fCAnMTAwa2InKVxuICAgIDogb3B0cy5saW1pdFxuICB2YXIgdHlwZSA9IG9wdHMudHlwZSB8fCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuICB2YXIgdmVyaWZ5ID0gb3B0cy52ZXJpZnkgfHwgZmFsc2VcblxuICBpZiAodmVyaWZ5ICE9PSBmYWxzZSAmJiB0eXBlb2YgdmVyaWZ5ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHZlcmlmeSBtdXN0IGJlIGZ1bmN0aW9uJylcbiAgfVxuXG4gIC8vIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgcXVlcnkgcGFyc2VyXG4gIHZhciBxdWVyeXBhcnNlID0gZXh0ZW5kZWRcbiAgICA/IGV4dGVuZGVkcGFyc2VyKG9wdHMpXG4gICAgOiBzaW1wbGVwYXJzZXIob3B0cylcblxuICAvLyBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25cbiAgdmFyIHNob3VsZFBhcnNlID0gdHlwZW9mIHR5cGUgIT09ICdmdW5jdGlvbidcbiAgICA/IHR5cGVDaGVja2VyKHR5cGUpXG4gICAgOiB0eXBlXG5cbiAgZnVuY3Rpb24gcGFyc2UgKGJvZHkpIHtcbiAgICByZXR1cm4gYm9keS5sZW5ndGhcbiAgICAgID8gcXVlcnlwYXJzZShib2R5KVxuICAgICAgOiB7fVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHVybGVuY29kZWRQYXJzZXIgKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaWYgKHJlcS5fYm9keSkge1xuICAgICAgZGVidWcoJ2JvZHkgYWxyZWFkeSBwYXJzZWQnKVxuICAgICAgbmV4dCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXEuYm9keSA9IHJlcS5ib2R5IHx8IHt9XG5cbiAgICAvLyBza2lwIHJlcXVlc3RzIHdpdGhvdXQgYm9kaWVzXG4gICAgaWYgKCF0eXBlaXMuaGFzQm9keShyZXEpKSB7XG4gICAgICBkZWJ1Zygnc2tpcCBlbXB0eSBib2R5JylcbiAgICAgIG5leHQoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZGVidWcoJ2NvbnRlbnQtdHlwZSAlaicsIHJlcS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSlcblxuICAgIC8vIGRldGVybWluZSBpZiByZXF1ZXN0IHNob3VsZCBiZSBwYXJzZWRcbiAgICBpZiAoIXNob3VsZFBhcnNlKHJlcSkpIHtcbiAgICAgIGRlYnVnKCdza2lwIHBhcnNpbmcnKVxuICAgICAgbmV4dCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBhc3NlcnQgY2hhcnNldFxuICAgIHZhciBjaGFyc2V0ID0gZ2V0Q2hhcnNldChyZXEpIHx8ICd1dGYtOCdcbiAgICBpZiAoY2hhcnNldCAhPT0gJ3V0Zi04Jykge1xuICAgICAgZGVidWcoJ2ludmFsaWQgY2hhcnNldCcpXG4gICAgICBuZXh0KGNyZWF0ZUVycm9yKDQxNSwgJ3Vuc3VwcG9ydGVkIGNoYXJzZXQgXCInICsgY2hhcnNldC50b1VwcGVyQ2FzZSgpICsgJ1wiJywge1xuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICB0eXBlOiAnY2hhcnNldC51bnN1cHBvcnRlZCdcbiAgICAgIH0pKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gcmVhZFxuICAgIHJlYWQocmVxLCByZXMsIG5leHQsIHBhcnNlLCBkZWJ1Zywge1xuICAgICAgZGVidWc6IGRlYnVnLFxuICAgICAgZW5jb2Rpbmc6IGNoYXJzZXQsXG4gICAgICBpbmZsYXRlOiBpbmZsYXRlLFxuICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgdmVyaWZ5OiB2ZXJpZnlcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBleHRlbmRlZCBxdWVyeSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqL1xuXG5mdW5jdGlvbiBleHRlbmRlZHBhcnNlciAob3B0aW9ucykge1xuICB2YXIgcGFyYW1ldGVyTGltaXQgPSBvcHRpb25zLnBhcmFtZXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICA/IG9wdGlvbnMucGFyYW1ldGVyTGltaXRcbiAgICA6IDEwMDBcbiAgdmFyIHBhcnNlID0gcGFyc2VyKCdxcycpXG5cbiAgaWYgKGlzTmFOKHBhcmFtZXRlckxpbWl0KSB8fCBwYXJhbWV0ZXJMaW1pdCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gcGFyYW1ldGVyTGltaXQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpXG4gIH1cblxuICBpZiAoaXNGaW5pdGUocGFyYW1ldGVyTGltaXQpKSB7XG4gICAgcGFyYW1ldGVyTGltaXQgPSBwYXJhbWV0ZXJMaW1pdCB8IDBcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBxdWVyeXBhcnNlIChib2R5KSB7XG4gICAgdmFyIHBhcmFtQ291bnQgPSBwYXJhbWV0ZXJDb3VudChib2R5LCBwYXJhbWV0ZXJMaW1pdClcblxuICAgIGlmIChwYXJhbUNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlYnVnKCd0b28gbWFueSBwYXJhbWV0ZXJzJylcbiAgICAgIHRocm93IGNyZWF0ZUVycm9yKDQxMywgJ3RvbyBtYW55IHBhcmFtZXRlcnMnLCB7XG4gICAgICAgIHR5cGU6ICdwYXJhbWV0ZXJzLnRvby5tYW55J1xuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlMaW1pdCA9IE1hdGgubWF4KDEwMCwgcGFyYW1Db3VudClcblxuICAgIGRlYnVnKCdwYXJzZSBleHRlbmRlZCB1cmxlbmNvZGluZycpXG4gICAgcmV0dXJuIHBhcnNlKGJvZHksIHtcbiAgICAgIGFsbG93UHJvdG90eXBlczogdHJ1ZSxcbiAgICAgIGFycmF5TGltaXQ6IGFycmF5TGltaXQsXG4gICAgICBkZXB0aDogSW5maW5pdHksXG4gICAgICBwYXJhbWV0ZXJMaW1pdDogcGFyYW1ldGVyTGltaXRcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBjaGFyc2V0IG9mIGEgcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBnZXRDaGFyc2V0IChyZXEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gKGNvbnRlbnRUeXBlLnBhcnNlKHJlcSkucGFyYW1ldGVycy5jaGFyc2V0IHx8ICcnKS50b0xvd2VyQ2FzZSgpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbn1cblxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMsIHN0b3BwaW5nIG9uY2UgbGltaXQgcmVhY2hlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBib2R5XG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcmFtZXRlckNvdW50IChib2R5LCBsaW1pdCkge1xuICB2YXIgY291bnQgPSAwXG4gIHZhciBpbmRleCA9IDBcblxuICB3aGlsZSAoKGluZGV4ID0gYm9keS5pbmRleE9mKCcmJywgaW5kZXgpKSAhPT0gLTEpIHtcbiAgICBjb3VudCsrXG4gICAgaW5kZXgrK1xuXG4gICAgaWYgKGNvdW50ID09PSBsaW1pdCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3VudFxufVxuXG4vKipcbiAqIEdldCBwYXJzZXIgZm9yIG1vZHVsZSBuYW1lIGR5bmFtaWNhbGx5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlciAobmFtZSkge1xuICB2YXIgbW9kID0gcGFyc2Vyc1tuYW1lXVxuXG4gIGlmIChtb2QgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBtb2QucGFyc2VcbiAgfVxuXG4gIC8vIHRoaXMgdXNlcyBhIHN3aXRjaCBmb3Igc3RhdGljIHJlcXVpcmUgYW5hbHlzaXNcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAncXMnOlxuICAgICAgbW9kID0gcmVxdWlyZSgncXMnKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdxdWVyeXN0cmluZyc6XG4gICAgICBtb2QgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpXG4gICAgICBicmVha1xuICB9XG5cbiAgLy8gc3RvcmUgdG8gcHJldmVudCBpbnZva2luZyByZXF1aXJlKClcbiAgcGFyc2Vyc1tuYW1lXSA9IG1vZFxuXG4gIHJldHVybiBtb2QucGFyc2Vcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHNpbXBsZSBxdWVyeSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqL1xuXG5mdW5jdGlvbiBzaW1wbGVwYXJzZXIgKG9wdGlvbnMpIHtcbiAgdmFyIHBhcmFtZXRlckxpbWl0ID0gb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCAhPT0gdW5kZWZpbmVkXG4gICAgPyBvcHRpb25zLnBhcmFtZXRlckxpbWl0XG4gICAgOiAxMDAwXG4gIHZhciBwYXJzZSA9IHBhcnNlcigncXVlcnlzdHJpbmcnKVxuXG4gIGlmIChpc05hTihwYXJhbWV0ZXJMaW1pdCkgfHwgcGFyYW1ldGVyTGltaXQgPCAxKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHBhcmFtZXRlckxpbWl0IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKVxuICB9XG5cbiAgaWYgKGlzRmluaXRlKHBhcmFtZXRlckxpbWl0KSkge1xuICAgIHBhcmFtZXRlckxpbWl0ID0gcGFyYW1ldGVyTGltaXQgfCAwXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gcXVlcnlwYXJzZSAoYm9keSkge1xuICAgIHZhciBwYXJhbUNvdW50ID0gcGFyYW1ldGVyQ291bnQoYm9keSwgcGFyYW1ldGVyTGltaXQpXG5cbiAgICBpZiAocGFyYW1Db3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWJ1ZygndG9vIG1hbnkgcGFyYW1ldGVycycpXG4gICAgICB0aHJvdyBjcmVhdGVFcnJvcig0MTMsICd0b28gbWFueSBwYXJhbWV0ZXJzJywge1xuICAgICAgICB0eXBlOiAncGFyYW1ldGVycy50b28ubWFueSdcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZGVidWcoJ3BhcnNlIHVybGVuY29kaW5nJylcbiAgICByZXR1cm4gcGFyc2UoYm9keSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgbWF4S2V5czogcGFyYW1ldGVyTGltaXQgfSlcbiAgfVxufVxuXG4vKipcbiAqIEdldCB0aGUgc2ltcGxlIHR5cGUgY2hlY2tlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHJldHVybiB7ZnVuY3Rpb259XG4gKi9cblxuZnVuY3Rpb24gdHlwZUNoZWNrZXIgKHR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNoZWNrVHlwZSAocmVxKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odHlwZWlzKHJlcSwgdHlwZSkpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJieXRlcyIsImNvbnRlbnRUeXBlIiwiY3JlYXRlRXJyb3IiLCJkZWJ1ZyIsImRlcHJlY2F0ZSIsInJlYWQiLCJ0eXBlaXMiLCJtb2R1bGUiLCJleHBvcnRzIiwib3B0aW9ucyIsIm9wdHMiLCJ1bmRlZmluZWQiLCJleHRlbmRlZCIsImluZmxhdGUiLCJsaW1pdCIsInBhcnNlIiwidHlwZSIsInZlcmlmeSIsIlR5cGVFcnJvciIsInF1ZXJ5cGFyc2UiLCJwYXJhbWV0ZXJMaW1pdCIsInBhcnNlciIsImlzTmFOIiwiaXNGaW5pdGUiLCJib2R5IiwicGFyYW1Db3VudCIsInBhcmFtZXRlckNvdW50IiwiYXJyYXlMaW1pdCIsIk1hdGgiLCJtYXgiLCJhbGxvd1Byb3RvdHlwZXMiLCJkZXB0aCIsIkluZmluaXR5IiwiZXh0ZW5kZWRwYXJzZXIiLCJtYXhLZXlzIiwic2ltcGxlcGFyc2VyIiwic2hvdWxkUGFyc2UiLCJyZXEiLCJCb29sZWFuIiwidHlwZUNoZWNrZXIiLCJsZW5ndGgiLCJyZXMiLCJuZXh0IiwiX2JvZHkiLCJoYXNCb2R5IiwiaGVhZGVycyIsImNoYXJzZXQiLCJwYXJhbWV0ZXJzIiwidG9Mb3dlckNhc2UiLCJlIiwiZ2V0Q2hhcnNldCIsInRvVXBwZXJDYXNlIiwiZW5jb2RpbmciLCJwYXJzZXJzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY291bnQiLCJpbmRleCIsImluZGV4T2YiLCJuYW1lIiwibW9kIl0sInNvdXJjZVJvb3QiOiIifQ==