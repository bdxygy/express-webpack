"use strict";exports.id="mod-node_modules_proxy-addr_index_js-38757243",exports.ids=["mod-node_modules_proxy-addr_index_js-38757243"],exports.modules={"./node_modules/proxy-addr/index.js":(r,e,n)=>{r.exports=function(r,e){if(!r)throw new TypeError("req argument is required");if(!e)throw new TypeError("trust argument is required");var n=u(r,e);return n[n.length-1]},r.exports.all=u,r.exports.compile=p;var t=n("./node_modules/forwarded/index.js"),i=n("./node_modules/ipaddr.js/lib/ipaddr.js"),d=/^[0-9]+$/,o=i.isValid,s=i.parse,a={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function u(r,e){var n=t(r);if(!e)return n;"function"!=typeof e&&(e=p(e));for(var i=0;i<n.length-1;i++)e(n[i],i)||(n.length=i+1);return n}function p(r){if(!r)throw new TypeError("argument is required");var e,n,t,i,d,u,p,v,c;if("string"==typeof r)e=[r];else{if(!Array.isArray(r))throw new TypeError("unsupported trust argument");e=r.slice()}for(var h=0;h<e.length;h++)r=e[h],Object.prototype.hasOwnProperty.call(a,r)&&(r=a[r],e.splice.apply(e,[h,1].concat(r)),h+=r.length-1);return n=function(r){for(var e=new Array(r.length),n=0;n<r.length;n++)e[n]=l(r[n]);return e}(e),0===(t=n.length)?f:1===t?(d=n[0],u=d[0],p=u.kind(),v="ipv4"===p,c=d[1],function(r){if(!o(r))return!1;var e=s(r);if(e.kind()!==p){if(v&&!e.isIPv4MappedAddress())return!1;e=v?e.toIPv4Address():e.toIPv4MappedAddress()}return e.match(u,c)}):(i=n,function(r){if(!o(r))return!1;for(var e,n=s(r),t=n.kind(),d=0;d<i.length;d++){var a=i[d],u=a[0],p=u.kind(),l=a[1],f=n;if(t!==p){if("ipv4"===p&&!n.isIPv4MappedAddress())continue;e||(e="ipv4"===p?n.toIPv4Address():n.toIPv4MappedAddress()),f=e}if(f.match(u,l))return!0}return!1})}function l(r){var e=r.lastIndexOf("/"),n=-1!==e?r.substring(0,e):r;if(!o(n))throw new TypeError("invalid IP address: "+n);var t=s(n);-1===e&&"ipv6"===t.kind()&&t.isIPv4MappedAddress()&&(t=t.toIPv4Address());var i="ipv6"===t.kind()?128:32,a=-1!==e?r.substring(e+1,r.length):null;if((a=null===a?i:d.test(a)?parseInt(a,10):"ipv4"===t.kind()&&o(a)?function(r){var e=s(r),n=e.kind();return"ipv4"===n?e.prefixLengthFromSubnetMask():null}(a):null)<=0||a>i)throw new TypeError("invalid range on address: "+r);return[t,a]}function f(){return!1}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLW5vZGVfbW9kdWxlc19wcm94eS1hZGRyX2luZGV4X2pzLTM4NzU3MjQzLmpzIiwibWFwcGluZ3MiOiJzTUFhQUEsRUFBT0MsUUFnTlAsU0FBb0JDLEVBQUtDLEdBQ3ZCLElBQUtELEVBQ0gsTUFBTSxJQUFJRSxVQUFVLDRCQUd0QixJQUFLRCxFQUNILE1BQU0sSUFBSUMsVUFBVSw4QkFHdEIsSUFBSUMsRUFBUUMsRUFBU0osRUFBS0MsR0FHMUIsT0FGV0UsRUFBTUEsRUFBTUUsT0FBUyxFQUdsQyxFQTVOQVAsRUFBT0MsUUFBUU8sSUFBTUYsRUFDckJOLEVBQU9DLFFBQVFRLFFBQVVBLEVBT3pCLElBQUlDLEVBQVksRUFBUSxxQ0FDcEJDLEVBQVMsRUFBUSwwQ0FPakJDLEVBQWUsV0FDZkMsRUFBT0YsRUFBT0csUUFDZEMsRUFBVUosRUFBT0ssTUFPakJDLEVBQVksQ0FDZEMsVUFBVyxDQUFDLGlCQUFrQixhQUM5QkMsU0FBVSxDQUFDLGNBQWUsV0FDMUJDLFlBQWEsQ0FBQyxhQUFjLGdCQUFpQixpQkFBa0IsYUFZakUsU0FBU2QsRUFBVUosRUFBS0MsR0FFdEIsSUFBSUUsRUFBUUssRUFBVVIsR0FFdEIsSUFBS0MsRUFFSCxPQUFPRSxFQUdZLG1CQUFWRixJQUNUQSxFQUFRTSxFQUFRTixJQUdsQixJQUFLLElBQUlrQixFQUFJLEVBQUdBLEVBQUloQixFQUFNRSxPQUFTLEVBQUdjLElBQ2hDbEIsRUFBTUUsRUFBTWdCLEdBQUlBLEtBRXBCaEIsRUFBTUUsT0FBU2MsRUFBSSxHQUdyQixPQUFPaEIsQ0FDVCxDQVNBLFNBQVNJLEVBQVNhLEdBQ2hCLElBQUtBLEVBQ0gsTUFBTSxJQUFJbEIsVUFBVSx3QkFHdEIsSUFBSUQsRUFrRGlCb0IsRUFFakJDLEVBaUhlQyxFQStDQ0MsRUFDaEJDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBdE5KLEdBQW1CLGlCQUFSUixFQUNUbkIsRUFBUSxDQUFDbUIsT0FDSixLQUFJUyxNQUFNQyxRQUFRVixHQUd2QixNQUFNLElBQUls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QixNQUFNLElBQUl2RCxVQUFVLDZCQUErQmtELEdBR3JELE1BQU8sQ0FBQ1AsRUFBSWEsRUFDZCxDQStDQSxTQUFTaEIsSUFDUCxPQUFPLENBQ1QsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BiZHh5Z3kvZXhwcmVzcy13ZWJwYWNrLy4vbm9kZV9tb2R1bGVzL3Byb3h5LWFkZHIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBwcm94eS1hZGRyXG4gKiBDb3B5cmlnaHQoYykgMjAxNC0yMDE2IERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uXG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4ndXNlIHN0cmljdCdcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByb3h5YWRkclxubW9kdWxlLmV4cG9ydHMuYWxsID0gYWxsYWRkcnNcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGZvcndhcmRlZCA9IHJlcXVpcmUoJ2ZvcndhcmRlZCcpXG52YXIgaXBhZGRyID0gcmVxdWlyZSgnaXBhZGRyLmpzJylcblxuLyoqXG4gKiBWYXJpYWJsZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBESUdJVF9SRUdFWFAgPSAvXlswLTldKyQvXG52YXIgaXNpcCA9IGlwYWRkci5pc1ZhbGlkXG52YXIgcGFyc2VpcCA9IGlwYWRkci5wYXJzZVxuXG4vKipcbiAqIFByZS1kZWZpbmVkIElQIHJhbmdlcy5cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIElQX1JBTkdFUyA9IHtcbiAgbGlua2xvY2FsOiBbJzE2OS4yNTQuMC4wLzE2JywgJ2ZlODA6Oi8xMCddLFxuICBsb29wYmFjazogWycxMjcuMC4wLjEvOCcsICc6OjEvMTI4J10sXG4gIHVuaXF1ZWxvY2FsOiBbJzEwLjAuMC4wLzgnLCAnMTcyLjE2LjAuMC8xMicsICcxOTIuMTY4LjAuMC8xNicsICdmYzAwOjovNyddXG59XG5cbi8qKlxuICogR2V0IGFsbCBhZGRyZXNzZXMgaW4gdGhlIHJlcXVlc3QsIG9wdGlvbmFsbHkgc3RvcHBpbmdcbiAqIGF0IHRoZSBmaXJzdCB1bnRydXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl8U3RyaW5nfSBbdHJ1c3RdXG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gYWxsYWRkcnMgKHJlcSwgdHJ1c3QpIHtcbiAgLy8gZ2V0IGFkZHJlc3Nlc1xuICB2YXIgYWRkcnMgPSBmb3J3YXJkZWQocmVxKVxuXG4gIGlmICghdHJ1c3QpIHtcbiAgICAvLyBSZXR1cm4gYWxsIGFkZHJlc3Nlc1xuICAgIHJldHVybiBhZGRyc1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0cnVzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRydXN0ID0gY29tcGlsZSh0cnVzdClcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWRkcnMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgaWYgKHRydXN0KGFkZHJzW2ldLCBpKSkgY29udGludWVcblxuICAgIGFkZHJzLmxlbmd0aCA9IGkgKyAxXG4gIH1cblxuICByZXR1cm4gYWRkcnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGFyZ3VtZW50IGludG8gdHJ1c3QgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHZhbFxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb21waWxlICh2YWwpIHtcbiAgaWYgKCF2YWwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyByZXF1aXJlZCcpXG4gIH1cblxuICB2YXIgdHJ1c3RcblxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnVzdCA9IFt2YWxdXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgdHJ1c3QgPSB2YWwuc2xpY2UoKVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHRydXN0IGFyZ3VtZW50JylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJ1c3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YWwgPSB0cnVzdFtpXVxuXG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoSVBfUkFOR0VTLCB2YWwpKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIC8vIFNwbGljZSBpbiBwcmUtZGVmaW5lZCByYW5nZVxuICAgIHZhbCA9IElQX1JBTkdFU1t2YWxdXG4gICAgdHJ1c3Quc3BsaWNlLmFwcGx5KHRydXN0LCBbaSwgMV0uY29uY2F0KHZhbCkpXG4gICAgaSArPSB2YWwubGVuZ3RoIC0gMVxuICB9XG5cbiAgcmV0dXJuIGNvbXBpbGVUcnVzdChjb21waWxlUmFuZ2VTdWJuZXRzKHRydXN0KSlcbn1cblxuLyoqXG4gKiBDb21waWxlIGBhcnJgIGVsZW1lbnRzIGludG8gcmFuZ2Ugc3VibmV0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29tcGlsZVJhbmdlU3VibmV0cyAoYXJyKSB7XG4gIHZhciByYW5nZVN1Ym5ldHMgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHJhbmdlU3VibmV0c1tpXSA9IHBhcnNlaXBOb3RhdGlvbihhcnJbaV0pXG4gIH1cblxuICByZXR1cm4gcmFuZ2VTdWJuZXRzXG59XG5cbi8qKlxuICogQ29tcGlsZSByYW5nZSBzdWJuZXQgYXJyYXkgaW50byB0cnVzdCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSByYW5nZVN1Ym5ldHNcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29tcGlsZVRydXN0IChyYW5nZVN1Ym5ldHMpIHtcbiAgLy8gUmV0dXJuIG9wdGltaXplZCBmdW5jdGlvbiBiYXNlZCBvbiBsZW5ndGhcbiAgdmFyIGxlbiA9IHJhbmdlU3VibmV0cy5sZW5ndGhcbiAgcmV0dXJuIGxlbiA9PT0gMFxuICAgID8gdHJ1c3ROb25lXG4gICAgOiBsZW4gPT09IDFcbiAgICAgID8gdHJ1c3RTaW5nbGUocmFuZ2VTdWJuZXRzWzBdKVxuICAgICAgOiB0cnVzdE11bHRpKHJhbmdlU3VibmV0cylcbn1cblxuLyoqXG4gKiBQYXJzZSBJUCBub3RhdGlvbiBzdHJpbmcgaW50byByYW5nZSBzdWJuZXQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5vdGVcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VpcE5vdGF0aW9uIChub3RlKSB7XG4gIHZhciBwb3MgPSBub3RlLmxhc3RJbmRleE9mKCcvJylcbiAgdmFyIHN0ciA9IHBvcyAhPT0gLTFcbiAgICA/IG5vdGUuc3Vic3RyaW5nKDAsIHBvcylcbiAgICA6IG5vdGVcblxuICBpZiAoIWlzaXAoc3RyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgSVAgYWRkcmVzczogJyArIHN0cilcbiAgfVxuXG4gIHZhciBpcCA9IHBhcnNlaXAoc3RyKVxuXG4gIGlmIChwb3MgPT09IC0xICYmIGlwLmtpbmQoKSA9PT0gJ2lwdjYnICYmIGlwLmlzSVB2NE1hcHBlZEFkZHJlc3MoKSkge1xuICAgIC8vIFN0b3JlIGFzIElQdjRcbiAgICBpcCA9IGlwLnRvSVB2NEFkZHJlc3MoKVxuICB9XG5cbiAgdmFyIG1heCA9IGlwLmtpbmQoKSA9PT0gJ2lwdjYnXG4gICAgPyAxMjhcbiAgICA6IDMyXG5cbiAgdmFyIHJhbmdlID0gcG9zICE9PSAtMVxuICAgID8gbm90ZS5zdWJzdHJpbmcocG9zICsgMSwgbm90ZS5sZW5ndGgpXG4gICAgOiBudWxsXG5cbiAgaWYgKHJhbmdlID09PSBudWxsKSB7XG4gICAgcmFuZ2UgPSBtYXhcbiAgfSBlbHNlIGlmIChESUdJVF9SRUdFWFAudGVzdChyYW5nZSkpIHtcbiAgICByYW5nZSA9IHBhcnNlSW50KHJhbmdlLCAxMClcbiAgfSBlbHNlIGlmIChpcC5raW5kKCkgPT09ICdpcHY0JyAmJiBpc2lwKHJhbmdlKSkge1xuICAgIHJhbmdlID0gcGFyc2VOZXRtYXNrKHJhbmdlKVxuICB9IGVsc2Uge1xuICAgIHJhbmdlID0gbnVsbFxuICB9XG5cbiAgaWYgKHJhbmdlIDw9IDAgfHwgcmFuZ2UgPiBtYXgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHJhbmdlIG9uIGFkZHJlc3M6ICcgKyBub3RlKVxuICB9XG5cbiAgcmV0dXJuIFtpcCwgcmFuZ2VdXG59XG5cbi8qKlxuICogUGFyc2UgbmV0bWFzayBzdHJpbmcgaW50byBDSURSIHJhbmdlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuZXRtYXNrXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlTmV0bWFzayAobmV0bWFzaykge1xuICB2YXIgaXAgPSBwYXJzZWlwKG5ldG1hc2spXG4gIHZhciBraW5kID0gaXAua2luZCgpXG5cbiAgcmV0dXJuIGtpbmQgPT09ICdpcHY0J1xuICAgID8gaXAucHJlZml4TGVuZ3RoRnJvbVN1Ym5ldE1hc2soKVxuICAgIDogbnVsbFxufVxuXG4vKipcbiAqIERldGVybWluZSBhZGRyZXNzIG9mIHByb3hpZWQgcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdFxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheXxTdHJpbmd9IHRydXN0XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcHJveHlhZGRyIChyZXEsIHRydXN0KSB7XG4gIGlmICghcmVxKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncmVxIGFyZ3VtZW50IGlzIHJlcXVpcmVkJylcbiAgfVxuXG4gIGlmICghdHJ1c3QpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0cnVzdCBhcmd1bWVudCBpcyByZXF1aXJlZCcpXG4gIH1cblxuICB2YXIgYWRkcnMgPSBhbGxhZGRycyhyZXEsIHRydXN0KVxuICB2YXIgYWRkciA9IGFkZHJzW2FkZHJzLmxlbmd0aCAtIDFdXG5cbiAgcmV0dXJuIGFkZHJcbn1cblxuLyoqXG4gKiBTdGF0aWMgdHJ1c3QgZnVuY3Rpb24gdG8gdHJ1c3Qgbm90aGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHRydXN0Tm9uZSAoKSB7XG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIENvbXBpbGUgdHJ1c3QgZnVuY3Rpb24gZm9yIG11bHRpcGxlIHN1Ym5ldHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gc3VibmV0c1xuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0cnVzdE11bHRpIChzdWJuZXRzKSB7XG4gIHJldHVybiBmdW5jdGlvbiB0cnVzdCAoYWRkcikge1xuICAgIGlmICghaXNpcChhZGRyKSkgcmV0dXJuIGZhbHNlXG5cbiAgICB2YXIgaXAgPSBwYXJzZWlwKGFkZHIpXG4gICAgdmFyIGlwY29udlxuICAgIHZhciBraW5kID0gaXAua2luZCgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Ym5ldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdWJuZXQgPSBzdWJuZXRzW2ldXG4gICAgICB2YXIgc3VibmV0aXAgPSBzdWJuZXRbMF1cbiAgICAgIHZhciBzdWJuZXRraW5kID0gc3VibmV0aXAua2luZCgpXG4gICAgICB2YXIgc3VibmV0cmFuZ2UgPSBzdWJuZXRbMV1cbiAgICAgIHZhciB0cnVzdGVkID0gaXBcblxuICAgICAgaWYgKGtpbmQgIT09IHN1Ym5ldGtpbmQpIHtcbiAgICAgICAgaWYgKHN1Ym5ldGtpbmQgPT09ICdpcHY0JyAmJiAhaXAuaXNJUHY0TWFwcGVkQWRkcmVzcygpKSB7XG4gICAgICAgICAgLy8gSW5jb21wYXRpYmxlIElQIGFkZHJlc3Nlc1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlwY29udikge1xuICAgICAgICAgIC8vIENvbnZlcnQgSVAgdG8gbWF0Y2ggc3VibmV0IElQIGtpbmRcbiAgICAgICAgICBpcGNvbnYgPSBzdWJuZXRraW5kID09PSAnaXB2NCdcbiAgICAgICAgICAgID8gaXAudG9JUHY0QWRkcmVzcygpXG4gICAgICAgICAgICA6IGlwLnRvSVB2NE1hcHBlZEFkZHJlc3MoKVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ1c3RlZCA9IGlwY29udlxuICAgICAgfVxuXG4gICAgICBpZiAodHJ1c3RlZC5tYXRjaChzdWJuZXRpcCwgc3VibmV0cmFuZ2UpKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBDb21waWxlIHRydXN0IGZ1bmN0aW9uIGZvciBzaW5nbGUgc3VibmV0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdWJuZXRcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gdHJ1c3RTaW5nbGUgKHN1Ym5ldCkge1xuICB2YXIgc3VibmV0aXAgPSBzdWJuZXRbMF1cbiAgdmFyIHN1Ym5ldGtpbmQgPSBzdWJuZXRpcC5raW5kKClcbiAgdmFyIHN1Ym5ldGlzaXB2NCA9IHN1Ym5ldGtpbmQgPT09ICdpcHY0J1xuICB2YXIgc3VibmV0cmFuZ2UgPSBzdWJuZXRbMV1cblxuICByZXR1cm4gZnVuY3Rpb24gdHJ1c3QgKGFkZHIpIHtcbiAgICBpZiAoIWlzaXAoYWRkcikpIHJldHVybiBmYWxzZVxuXG4gICAgdmFyIGlwID0gcGFyc2VpcChhZGRyKVxuICAgIHZhciBraW5kID0gaXAua2luZCgpXG5cbiAgICBpZiAoa2luZCAhPT0gc3VibmV0a2luZCkge1xuICAgICAgaWYgKHN1Ym5ldGlzaXB2NCAmJiAhaXAuaXNJUHY0TWFwcGVkQWRkcmVzcygpKSB7XG4gICAgICAgIC8vIEluY29tcGF0aWJsZSBJUCBhZGRyZXNzZXNcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgSVAgdG8gbWF0Y2ggc3VibmV0IElQIGtpbmRcbiAgICAgIGlwID0gc3VibmV0aXNpcHY0XG4gICAgICAgID8gaXAudG9JUHY0QWRkcmVzcygpXG4gICAgICAgIDogaXAudG9JUHY0TWFwcGVkQWRkcmVzcygpXG4gICAgfVxuXG4gICAgcmV0dXJuIGlwLm1hdGNoKHN1Ym5ldGlwLCBzdWJuZXRyYW5nZSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJ0cnVzdCIsIlR5cGVFcnJvciIsImFkZHJzIiwiYWxsYWRkcnMiLCJsZW5ndGgiLCJhbGwiLCJjb21waWxlIiwiZm9yd2FyZGVkIiwiaXBhZGRyIiwiRElHSVRfUkVHRVhQIiwiaXNpcCIsImlzVmFsaWQiLCJwYXJzZWlwIiwicGFyc2UiLCJJUF9SQU5HRVMiLCJsaW5rbG9jYWwiLCJsb29wYmFjayIsInVuaXF1ZWxvY2FsIiwiaSIsInZhbCIsInJhbmdlU3VibmV0cyIsImxlbiIsInN1Ym5ldHMiLCJzdWJuZXQiLCJzdWJuZXRpcCIsInN1Ym5ldGtpbmQiLCJzdWJuZXRpc2lwdjQiLCJzdWJuZXRyYW5nZSIsIkFycmF5IiwiaXNBcnJheSIsInNsaWNlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic3BsaWNlIiwiYXBwbHkiLCJjb25jYXQiLCJhcnIiLCJwYXJzZWlwTm90YXRpb24iLCJjb21waWxlUmFuZ2VTdWJuZXRzIiwidHJ1c3ROb25lIiwia2luZCIsImFkZHIiLCJpcCIsImlzSVB2NE1hcHBlZEFkZHJlc3MiLCJ0b0lQdjRBZGRyZXNzIiwidG9JUHY0TWFwcGVkQWRkcmVzcyIsIm1hdGNoIiwiaXBjb252IiwidHJ1c3RlZCIsIm5vdGUiLCJwb3MiLCJsYXN0SW5kZXhPZiIsInN0ciIsInN1YnN0cmluZyIsIm1heCIsInJhbmdlIiwidGVzdCIsInBhcnNlSW50IiwibmV0bWFzayIsInByZWZpeExlbmd0aEZyb21TdWJuZXRNYXNrIiwicGFyc2VOZXRtYXNrIl0sInNvdXJjZVJvb3QiOiIifQ==