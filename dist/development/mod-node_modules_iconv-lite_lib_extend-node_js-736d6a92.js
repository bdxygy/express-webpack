"use strict";exports.id="mod-node_modules_iconv-lite_lib_extend-node_js-736d6a92",exports.ids=["mod-node_modules_iconv-lite_lib_extend-node_js-736d6a92"],exports.modules={"./node_modules/iconv-lite/lib/extend-node.js":(e,t,o)=>{var n=o("buffer").Buffer;e.exports=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(n.from||new n(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var i={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};n.isNativeEncoding=function(e){return e&&i[e.toLowerCase()]};var r=o("buffer").SlowBuffer;if(t.SlowBufferToString=r.prototype.toString,r.prototype.toString=function(o,i,r){return o=String(o||"utf8").toLowerCase(),n.isNativeEncoding(o)?t.SlowBufferToString.call(this,o,i,r):(void 0===i&&(i=0),void 0===r&&(r=this.length),e.decode(this.slice(i,r),o))},t.SlowBufferWrite=r.prototype.write,r.prototype.write=function(o,i,r,s){if(isFinite(i))isFinite(r)||(s=r,r=void 0);else{var d=s;s=i,i=r,r=d}i=+i||0;var f=this.length-i;if(r?(r=+r)>f&&(r=f):r=f,s=String(s||"utf8").toLowerCase(),n.isNativeEncoding(s))return t.SlowBufferWrite.call(this,o,i,r,s);if(o.length>0&&(r<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var c=e.encode(o,s);return c.length<r&&(r=c.length),c.copy(this,i,0,r),r},t.BufferIsEncoding=n.isEncoding,n.isEncoding=function(t){return n.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=n.byteLength,n.byteLength=r.byteLength=function(o,i){return i=String(i||"utf8").toLowerCase(),n.isNativeEncoding(i)?t.BufferByteLength.call(this,o,i):e.encode(o,i).length},t.BufferToString=n.prototype.toString,n.prototype.toString=function(o,i,r){return o=String(o||"utf8").toLowerCase(),n.isNativeEncoding(o)?t.BufferToString.call(this,o,i,r):(void 0===i&&(i=0),void 0===r&&(r=this.length),e.decode(this.slice(i,r),o))},t.BufferWrite=n.prototype.write,n.prototype.write=function(o,i,r,s){var d=i,f=r,c=s;if(isFinite(i))isFinite(r)||(s=r,r=void 0);else{var u=s;s=i,i=r,r=u}if(s=String(s||"utf8").toLowerCase(),n.isNativeEncoding(s))return t.BufferWrite.call(this,o,d,f,c);i=+i||0;var g=this.length-i;if(r?(r=+r)>g&&(r=g):r=g,o.length>0&&(r<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var l=e.encode(o,s);return l.length<r&&(r=l.length),l.copy(this,i,0,r),r},e.supportsStreams){var s=o("stream").Readable;t.ReadableSetEncoding=s.prototype.setEncoding,s.prototype.setEncoding=function(t,o){this._readableState.decoder=e.getDecoder(t,o),this._readableState.encoding=t},s.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete n.isNativeEncoding;var i=o("buffer").SlowBuffer;if(i.prototype.toString=t.SlowBufferToString,i.prototype.write=t.SlowBufferWrite,n.isEncoding=t.BufferIsEncoding,n.byteLength=t.BufferByteLength,n.prototype.toString=t.BufferToString,n.prototype.write=t.BufferWrite,e.supportsStreams){var r=o("stream").Readable;r.prototype.setEncoding=t.ReadableSetEncoding,delete r.prototype.collect}t=void 0}}}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLW5vZGVfbW9kdWxlc19pY29udi1saXRlX2xpYl9leHRlbmQtbm9kZV9qcy03MzZkNmE5Mi5qcyIsIm1hcHBpbmdzIjoib09BQ0EsSUFBSUEsRUFBUyxtQkFLYkMsRUFBT0MsUUFBVSxTQUFVQyxHQUN2QixJQUFJQyxPQUFXQyxFQUtmRixFQUFNRyxpQ0FBbUNOLEVBQU9PLE1BQVEsSUFBSVAsRUFBTyxhQUFjUSxZQUVqRkwsRUFBTU0sb0JBQXNCLFdBQ3hCLElBQUlMLEVBQUosQ0FHQSxHQUZBQSxFQUFXLENBQUMsR0FFUEQsRUFBTUcsK0JBR1AsT0FGQUksUUFBUUMsTUFBTSw0R0FDZEQsUUFBUUMsTUFBTSx3RkFJbEIsSUFBSUMsRUFBc0IsQ0FDdEIsS0FBTyxFQUFNLE1BQVEsRUFBTSxTQUFTLEVBQU0sT0FBUyxFQUFNLFFBQVUsRUFDbkUsUUFBVSxFQUFNLE1BQVEsRUFBTSxTQUFTLEVBQU0sU0FBVyxFQUFNLFlBQVksR0FHOUVaLEVBQU9hLGlCQUFtQixTQUFTQyxHQUMvQixPQUFPQSxHQUFPRixFQUFvQkUsRUFBSUMsY0FDMUMsRUFHQSxJQUFJQyxFQUFhLHVCQTJJakIsR0F6SUFaLEVBQVNhLG1CQUFxQkQsRUFBV0UsVUFBVUMsU0FDbkRILEVBQVdFLFVBQVVDLFNBQVcsU0FBU0MsRUFBVUMsRUFBT0MsR0FJdEQsT0FIQUYsRUFBV0csT0FBT0gsR0FBWSxRQUFRTCxjQUdsQ2YsRUFBT2EsaUJBQWlCTyxHQUNqQmhCLEVBQVNhLG1CQUFtQk8sS0FBS0MsS0FBTUwsRUFBVUMsRUFBT0MsU0FHL0MsSUFBVEQsSUFBc0JBLEVBQVEsUUFDdkIsSUFBUEMsSUFBb0JBLEVBQU1HLEtBQUtDLFFBQ25DdkIsRUFBTXdCLE9BQU9GLEtBQUtHLE1BQU1QLEVBQU9DLEdBQU1GLEdBQ2hELEVBRUFoQixFQUFTeUIsZ0JBQWtCYixFQUFXRSxVQUFVWSxNQUNoRGQsRUFBV0UsVUFBVVksTUFBUSxTQUFTQyxFQUFRQyxFQUFRTixFQUFRTixHQUcxRCxHQUFJYSxTQUFT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aUIsQ0FDdkIsSUFBSUMsRUFBVyxxQkFFZmhELEVBQVNpRCxvQkFBc0JELEVBQVNsQyxVQUFVb0MsWUFDbERGLEVBQVNsQyxVQUFVb0MsWUFBYyxTQUFxQnhDLEVBQUt5QyxHQUd2RDlCLEtBQUsrQixlQUFlQyxRQUFVdEQsRUFBTXVELFdBQVc1QyxFQUFLeUMsR0FDcEQ5QixLQUFLK0IsZUFBZXBDLFNBQVdOLENBQ25DLEVBRUFzQyxFQUFTbEMsVUFBVXlDLFFBQVV4RCxFQUFNeUQsUUFDdkMsQ0ExS29CLENBMkt4QixFQUdBekQsRUFBTTBELHdCQUEwQixXQUM1QixHQUFLMUQsRUFBTUcsK0JBQVgsQ0FFQSxJQUFLRixFQUNELE1BQU0sSUFBSTBELE1BQU0saUhBRWI5RCxFQUFPYSxpQkFFZCxJQUFJRyxFQUFhLHVCQVVqQixHQVJBQSxFQUFXRSxVQUFVQyxTQUFXZixFQUFTYSxtQkFDekNELEVBQVdFLFVBQVVZLE1BQVExQixFQUFTeUIsZ0JBRXRDN0IsRUFBT3lDLFdBQWFyQyxFQUFTb0MsaUJBQzdCeEMsRUFBTzRDLFdBQWF4QyxFQUFTdUMsaUJBQzdCM0MsRUFBT2tCLFVBQVVDLFNBQVdmLEVBQVMwQyxlQUNyQzlDLEVBQU9rQixVQUFVWSxNQUFRMUIsRUFBUzJDLFlBRTlCNUMsRUFBTWdELGdCQUFpQixDQUN2QixJQUFJQyxFQUFXLHFCQUVmQSxFQUFTbEMsVUFBVW9DLFlBQWNsRCxFQUFTaUQsMkJBQ25DRCxFQUFTbEMsVUFBVXlDLE9BQzlCLENBRUF2RCxPQUFXQyxDQXZCRCxDQXdCZCxDQUNKLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmR4eWd5L2V4cHJlc3Mtd2VicGFjay8uL25vZGVfbW9kdWxlcy9pY29udi1saXRlL2xpYi9leHRlbmQtbm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBCdWZmZXIgPSByZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcjtcbi8vIE5vdGU6IG5vdCBwb2x5ZmlsbGVkIHdpdGggc2FmZXItYnVmZmVyIG9uIGEgcHVycG9zZSwgYXMgb3ZlcnJpZGVzIEJ1ZmZlclxuXG4vLyA9PSBFeHRlbmQgTm9kZSBwcmltaXRpdmVzIHRvIHVzZSBpY29udi1saXRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpY29udikge1xuICAgIHZhciBvcmlnaW5hbCA9IHVuZGVmaW5lZDsgLy8gUGxhY2UgdG8ga2VlcCBvcmlnaW5hbCBtZXRob2RzLlxuXG4gICAgLy8gTm9kZSBhdXRob3JzIHJld3JvdGUgQnVmZmVyIGludGVybmFscyB0byBtYWtlIGl0IGNvbXBhdGlibGUgd2l0aFxuICAgIC8vIFVpbnQ4QXJyYXkgYW5kIHdlIGNhbm5vdCBwYXRjaCBrZXkgZnVuY3Rpb25zIHNpbmNlIHRoZW4uXG4gICAgLy8gTm90ZTogdGhpcyBkb2VzIHVzZSBvbGRlciBCdWZmZXIgQVBJIG9uIGEgcHVycG9zZVxuICAgIGljb252LnN1cHBvcnRzTm9kZUVuY29kaW5nc0V4dGVuc2lvbiA9ICEoQnVmZmVyLmZyb20gfHwgbmV3IEJ1ZmZlcigwKSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuXG4gICAgaWNvbnYuZXh0ZW5kTm9kZUVuY29kaW5ncyA9IGZ1bmN0aW9uIGV4dGVuZE5vZGVFbmNvZGluZ3MoKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbCkgcmV0dXJuO1xuICAgICAgICBvcmlnaW5hbCA9IHt9O1xuXG4gICAgICAgIGlmICghaWNvbnYuc3VwcG9ydHNOb2RlRW5jb2RpbmdzRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQUNUSU9OIE5FRURFRDogcmVxdWlyZSgnaWNvbnYtbGl0ZScpLmV4dGVuZE5vZGVFbmNvZGluZ3MoKSBpcyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgdmVyc2lvbiBvZiBOb2RlXCIpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNlZSBtb3JlIGluZm8gYXQgaHR0cHM6Ly9naXRodWIuY29tL2FzaHR1Y2hraW4vaWNvbnYtbGl0ZS93aWtpL05vZGUtdjQtY29tcGF0aWJpbGl0eVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub2RlTmF0aXZlRW5jb2RpbmdzID0ge1xuICAgICAgICAgICAgJ2hleCc6IHRydWUsICd1dGY4JzogdHJ1ZSwgJ3V0Zi04JzogdHJ1ZSwgJ2FzY2lpJzogdHJ1ZSwgJ2JpbmFyeSc6IHRydWUsIFxuICAgICAgICAgICAgJ2Jhc2U2NCc6IHRydWUsICd1Y3MyJzogdHJ1ZSwgJ3Vjcy0yJzogdHJ1ZSwgJ3V0ZjE2bGUnOiB0cnVlLCAndXRmLTE2bGUnOiB0cnVlLFxuICAgICAgICB9O1xuXG4gICAgICAgIEJ1ZmZlci5pc05hdGl2ZUVuY29kaW5nID0gZnVuY3Rpb24oZW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jICYmIG5vZGVOYXRpdmVFbmNvZGluZ3NbZW5jLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0gU2xvd0J1ZmZlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB2YXIgU2xvd0J1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLlNsb3dCdWZmZXI7XG5cbiAgICAgICAgb3JpZ2luYWwuU2xvd0J1ZmZlclRvU3RyaW5nID0gU2xvd0J1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgICAgIFNsb3dCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nIHx8ICd1dGY4JykudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgLy8gVXNlIG5hdGl2ZSBjb252ZXJzaW9uIHdoZW4gcG9zc2libGVcbiAgICAgICAgICAgIGlmIChCdWZmZXIuaXNOYXRpdmVFbmNvZGluZyhlbmNvZGluZykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLlNsb3dCdWZmZXJUb1N0cmluZy5jYWxsKHRoaXMsIGVuY29kaW5nLCBzdGFydCwgZW5kKTtcblxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB1c2Ugb3VyIGRlY29kaW5nIG1ldGhvZC5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT0gJ3VuZGVmaW5lZCcpIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW5kID09ICd1bmRlZmluZWQnKSBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBpY29udi5kZWNvZGUodGhpcy5zbGljZShzdGFydCwgZW5kKSwgZW5jb2RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3JpZ2luYWwuU2xvd0J1ZmZlcldyaXRlID0gU2xvd0J1ZmZlci5wcm90b3R5cGUud3JpdGU7XG4gICAgICAgIFNsb3dCdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgYm90aCAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGxlZ2FjeSAoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGluZyA9IGxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyBsZWdhY3lcbiAgICAgICAgICAgICAgICB2YXIgc3dhcCA9IGVuY29kaW5nO1xuICAgICAgICAgICAgICAgIGVuY29kaW5nID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBzd2FwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgPSArb2Zmc2V0IHx8IDA7XG4gICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJlbWFpbmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gK2xlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJlbWFpbmluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZyB8fCAndXRmOCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIC8vIFVzZSBuYXRpdmUgY29udmVyc2lvbiB3aGVuIHBvc3NpYmxlXG4gICAgICAgICAgICBpZiAoQnVmZmVyLmlzTmF0aXZlRW5jb2RpbmcoZW5jb2RpbmcpKVxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5TbG93QnVmZmVyV3JpdGUuY2FsbCh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZyk7XG5cbiAgICAgICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYXR0ZW1wdCB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGJvdW5kcycpO1xuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHVzZSBvdXIgZW5jb2RpbmcgbWV0aG9kLlxuICAgICAgICAgICAgdmFyIGJ1ZiA9IGljb252LmVuY29kZShzdHJpbmcsIGVuY29kaW5nKTtcbiAgICAgICAgICAgIGlmIChidWYubGVuZ3RoIDwgbGVuZ3RoKSBsZW5ndGggPSBidWYubGVuZ3RoO1xuICAgICAgICAgICAgYnVmLmNvcHkodGhpcywgb2Zmc2V0LCAwLCBsZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tIEJ1ZmZlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBvcmlnaW5hbC5CdWZmZXJJc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2Rpbmc7XG4gICAgICAgIEJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24oZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBCdWZmZXIuaXNOYXRpdmVFbmNvZGluZyhlbmNvZGluZykgfHwgaWNvbnYuZW5jb2RpbmdFeGlzdHMoZW5jb2RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3JpZ2luYWwuQnVmZmVyQnl0ZUxlbmd0aCA9IEJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgICBCdWZmZXIuYnl0ZUxlbmd0aCA9IFNsb3dCdWZmZXIuYnl0ZUxlbmd0aCA9IGZ1bmN0aW9uKHN0ciwgZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nIHx8ICd1dGY4JykudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgLy8gVXNlIG5hdGl2ZSBjb252ZXJzaW9uIHdoZW4gcG9zc2libGVcbiAgICAgICAgICAgIGlmIChCdWZmZXIuaXNOYXRpdmVFbmNvZGluZyhlbmNvZGluZykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLkJ1ZmZlckJ5dGVMZW5ndGguY2FsbCh0aGlzLCBzdHIsIGVuY29kaW5nKTtcblxuICAgICAgICAgICAgLy8gU2xvdywgSSBrbm93LCBidXQgd2UgZG9uJ3QgaGF2ZSBhIGJldHRlciB3YXkgeWV0LlxuICAgICAgICAgICAgcmV0dXJuIGljb252LmVuY29kZShzdHIsIGVuY29kaW5nKS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBvcmlnaW5hbC5CdWZmZXJUb1N0cmluZyA9IEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgICAgIEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICAgICAgICAgICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcgfHwgJ3V0ZjgnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAvLyBVc2UgbmF0aXZlIGNvbnZlcnNpb24gd2hlbiBwb3NzaWJsZVxuICAgICAgICAgICAgaWYgKEJ1ZmZlci5pc05hdGl2ZUVuY29kaW5nKGVuY29kaW5nKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuQnVmZmVyVG9TdHJpbmcuY2FsbCh0aGlzLCBlbmNvZGluZywgc3RhcnQsIGVuZCk7XG5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdXNlIG91ciBkZWNvZGluZyBtZXRob2QuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09ICd1bmRlZmluZWQnKSBzdGFydCA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVuZCA9PSAndW5kZWZpbmVkJykgZW5kID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gaWNvbnYuZGVjb2RlKHRoaXMuc2xpY2Uoc3RhcnQsIGVuZCksIGVuY29kaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9yaWdpbmFsLkJ1ZmZlcldyaXRlID0gQnVmZmVyLnByb3RvdHlwZS53cml0ZTtcbiAgICAgICAgQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gICAgICAgICAgICB2YXIgX29mZnNldCA9IG9mZnNldCwgX2xlbmd0aCA9IGxlbmd0aCwgX2VuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICAgICAgICAvLyBTdXBwb3J0IGJvdGggKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKVxuICAgICAgICAgICAgLy8gYW5kIHRoZSBsZWdhY3kgKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICAgICAgICAgICAgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmcgPSBsZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gbGVnYWN5XG4gICAgICAgICAgICAgICAgdmFyIHN3YXAgPSBlbmNvZGluZztcbiAgICAgICAgICAgICAgICBlbmNvZGluZyA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBsZW5ndGg7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gc3dhcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcgfHwgJ3V0ZjgnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAvLyBVc2UgbmF0aXZlIGNvbnZlcnNpb24gd2hlbiBwb3NzaWJsZVxuICAgICAgICAgICAgaWYgKEJ1ZmZlci5pc05hdGl2ZUVuY29kaW5nKGVuY29kaW5nKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuQnVmZmVyV3JpdGUuY2FsbCh0aGlzLCBzdHJpbmcsIF9vZmZzZXQsIF9sZW5ndGgsIF9lbmNvZGluZyk7XG5cbiAgICAgICAgICAgIG9mZnNldCA9ICtvZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldDtcbiAgICAgICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcmVtYWluaW5nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSArbGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gcmVtYWluaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdhdHRlbXB0IHRvIHdyaXRlIGJleW9uZCBidWZmZXIgYm91bmRzJyk7XG5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdXNlIG91ciBlbmNvZGluZyBtZXRob2QuXG4gICAgICAgICAgICB2YXIgYnVmID0gaWNvbnYuZW5jb2RlKHN0cmluZywgZW5jb2RpbmcpO1xuICAgICAgICAgICAgaWYgKGJ1Zi5sZW5ndGggPCBsZW5ndGgpIGxlbmd0aCA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgICAgICBidWYuY29weSh0aGlzLCBvZmZzZXQsIDAsIGxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBTZXQgX2NoYXJzV3JpdHRlbi5cbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gLS0gUmVhZGFibGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAoaWNvbnYuc3VwcG9ydHNTdHJlYW1zKSB7XG4gICAgICAgICAgICB2YXIgUmVhZGFibGUgPSByZXF1aXJlKCdzdHJlYW0nKS5SZWFkYWJsZTtcblxuICAgICAgICAgICAgb3JpZ2luYWwuUmVhZGFibGVTZXRFbmNvZGluZyA9IFJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZztcbiAgICAgICAgICAgIFJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldEVuY29kaW5nKGVuYywgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBvdXIgb3duIGRlY29kZXIsIGl0IGhhcyB0aGUgc2FtZSBpbnRlcmZhY2UuXG4gICAgICAgICAgICAgICAgLy8gV2UgY2Fubm90IHVzZSBvcmlnaW5hbCBmdW5jdGlvbiBhcyBpdCBkb2Vzbid0IGhhbmRsZSBCT00tcy5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBpY29udi5nZXREZWNvZGVyKGVuYywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IGVuYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgUmVhZGFibGUucHJvdG90eXBlLmNvbGxlY3QgPSBpY29udi5fY29sbGVjdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBpY29udi1saXRlIE5vZGUgcHJpbWl0aXZlIGV4dGVuc2lvbnMuXG4gICAgaWNvbnYudW5kb0V4dGVuZE5vZGVFbmNvZGluZ3MgPSBmdW5jdGlvbiB1bmRvRXh0ZW5kTm9kZUVuY29kaW5ncygpIHtcbiAgICAgICAgaWYgKCFpY29udi5zdXBwb3J0c05vZGVFbmNvZGluZ3NFeHRlbnNpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghb3JpZ2luYWwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXF1aXJlKCdpY29udi1saXRlJykudW5kb0V4dGVuZE5vZGVFbmNvZGluZ3MoKTogTm90aGluZyB0byB1bmRvOyBleHRlbmROb2RlRW5jb2RpbmdzKCkgaXMgbm90IGNhbGxlZC5cIilcblxuICAgICAgICBkZWxldGUgQnVmZmVyLmlzTmF0aXZlRW5jb2Rpbmc7XG5cbiAgICAgICAgdmFyIFNsb3dCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5TbG93QnVmZmVyO1xuXG4gICAgICAgIFNsb3dCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gb3JpZ2luYWwuU2xvd0J1ZmZlclRvU3RyaW5nO1xuICAgICAgICBTbG93QnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IG9yaWdpbmFsLlNsb3dCdWZmZXJXcml0ZTtcblxuICAgICAgICBCdWZmZXIuaXNFbmNvZGluZyA9IG9yaWdpbmFsLkJ1ZmZlcklzRW5jb2Rpbmc7XG4gICAgICAgIEJ1ZmZlci5ieXRlTGVuZ3RoID0gb3JpZ2luYWwuQnVmZmVyQnl0ZUxlbmd0aDtcbiAgICAgICAgQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IG9yaWdpbmFsLkJ1ZmZlclRvU3RyaW5nO1xuICAgICAgICBCdWZmZXIucHJvdG90eXBlLndyaXRlID0gb3JpZ2luYWwuQnVmZmVyV3JpdGU7XG5cbiAgICAgICAgaWYgKGljb252LnN1cHBvcnRzU3RyZWFtcykge1xuICAgICAgICAgICAgdmFyIFJlYWRhYmxlID0gcmVxdWlyZSgnc3RyZWFtJykuUmVhZGFibGU7XG5cbiAgICAgICAgICAgIFJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IG9yaWdpbmFsLlJlYWRhYmxlU2V0RW5jb2Rpbmc7XG4gICAgICAgICAgICBkZWxldGUgUmVhZGFibGUucHJvdG90eXBlLmNvbGxlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBvcmlnaW5hbCA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQnVmZmVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImljb252Iiwib3JpZ2luYWwiLCJ1bmRlZmluZWQiLCJzdXBwb3J0c05vZGVFbmNvZGluZ3NFeHRlbnNpb24iLCJmcm9tIiwiVWludDhBcnJheSIsImV4dGVuZE5vZGVFbmNvZGluZ3MiLCJjb25zb2xlIiwiZXJyb3IiLCJub2RlTmF0aXZlRW5jb2RpbmdzIiwiaXNOYXRpdmVFbmNvZGluZyIsImVuYyIsInRvTG93ZXJDYXNlIiwiU2xvd0J1ZmZlciIsIlNsb3dCdWZmZXJUb1N0cmluZyIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiZW5jb2RpbmciLCJzdGFydCIsImVuZCIsIlN0cmluZyIsImNhbGwiLCJ0aGlzIiwibGVuZ3RoIiwiZGVjb2RlIiwic2xpY2UiLCJTbG93QnVmZmVyV3JpdGUiLCJ3cml0ZSIsInN0cmluZyIsIm9mZnNldCIsImlzRmluaXRlIiwic3dhcCIsInJlbWFpbmluZyIsIlJhbmdlRXJyb3IiLCJidWYiLCJlbmNvZGUiLCJjb3B5IiwiQnVmZmVySXNFbmNvZGluZyIsImlzRW5jb2RpbmciLCJlbmNvZGluZ0V4aXN0cyIsIkJ1ZmZlckJ5dGVMZW5ndGgiLCJieXRlTGVuZ3RoIiwic3RyIiwiQnVmZmVyVG9TdHJpbmciLCJCdWZmZXJXcml0ZSIsIl9vZmZzZXQiLCJfbGVuZ3RoIiwiX2VuY29kaW5nIiwic3VwcG9ydHNTdHJlYW1zIiwiUmVhZGFibGUiLCJSZWFkYWJsZVNldEVuY29kaW5nIiwic2V0RW5jb2RpbmciLCJvcHRpb25zIiwiX3JlYWRhYmxlU3RhdGUiLCJkZWNvZGVyIiwiZ2V0RGVjb2RlciIsImNvbGxlY3QiLCJfY29sbGVjdCIsInVuZG9FeHRlbmROb2RlRW5jb2RpbmdzIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9