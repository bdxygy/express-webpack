"use strict";exports.id="mod-node_modules_raw-body_index_js-7db9abcc",exports.ids=["mod-node_modules_raw-body_index_js-7db9abcc"],exports.modules={"./node_modules/raw-body/index.js":(e,n,t)=>{var r=function(){try{return t("async_hooks")}catch(e){return{}}}(),o=t("./node_modules/bytes/index.js"),i=t("./node_modules/http-errors/index.js"),d=t("./node_modules/iconv-lite/lib/index.js"),u=t("./node_modules/unpipe/index.js");e.exports=function(e,n,t){var i=t,d=n||{};!0!==n&&"string"!=typeof n||(d={encoding:n});"function"==typeof n&&(i=n,d={});if(void 0!==i&&"function"!=typeof i)throw new TypeError("argument callback must be a function");if(!i&&!global.Promise)throw new TypeError("argument callback is required");var u=!0!==d.encoding?d.encoding:"utf-8",s=o.parse(d.limit),a=null==d.length||isNaN(d.length)?null:parseInt(d.length,10);if(i)return c(e,u,a,s,function(e){var n;r.AsyncResource&&(n=new r.AsyncResource(e.name||"bound-anonymous-fn"));if(!n||!n.runInAsyncScope)return e;return n.runInAsyncScope.bind(n,e,null)}(i));return new Promise((function(n,t){c(e,u,a,s,(function(e,r){if(e)return t(e);n(r)}))}))};var s=/^Encoding not recognized: /;function c(e,n,t,r,o){var c=!1,a=!0;if(null!==r&&null!==t&&t>r)return g(i(413,"request entity too large",{expected:t,length:t,limit:r,type:"entity.too.large"}));var l=e._readableState;if(e._decoder||l&&(l.encoding||l.decoder))return g(i(500,"stream encoding should not be set",{type:"stream.encoding.set"}));if(void 0!==e.readable&&!e.readable)return g(i(500,"stream is not readable",{type:"stream.not.readable"}));var f,p=0;try{f=function(e){if(!e)return null;try{return d.getDecoder(e)}catch(n){if(!s.test(n.message))throw n;throw i(415,"specified encoding unsupported",{encoding:e,type:"encoding.unsupported"})}}(n)}catch(e){return g(e)}var y=f?"":[];function g(){for(var n=new Array(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];function r(){v(),n[0]&&function(e){u(e),"function"==typeof e.pause&&e.pause()}(e),o.apply(null,n)}c=!0,a?process.nextTick(r):r()}function m(){c||g(i(400,"request aborted",{code:"ECONNABORTED",expected:t,length:t,received:p,type:"request.aborted"}))}function b(e){c||(p+=e.length,null!==r&&p>r?g(i(413,"request entity too large",{limit:r,received:p,type:"entity.too.large"})):f?y+=f.write(e):y.push(e))}function h(e){if(!c){if(e)return g(e);if(null!==t&&p!==t)g(i(400,"request size did not match content length",{expected:t,length:t,received:p,type:"request.size.invalid"}));else g(null,f?y+(f.end()||""):Buffer.concat(y))}}function v(){y=null,e.removeListener("aborted",m),e.removeListener("data",b),e.removeListener("end",h),e.removeListener("error",h),e.removeListener("close",v)}e.on("aborted",m),e.on("close",v),e.on("data",b),e.on("end",h),e.on("error",h),a=!1}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLW5vZGVfbW9kdWxlc19yYXctYm9keV9pbmRleF9qcy03ZGI5YWJjYy5qcyIsIm1hcHBpbmdzIjoiZ01BY0EsSUFBSUEsRUE2UkosV0FDRSxJQUNFLE9BQU8sRUFBUSxjQUNqQixDQUFFLE1BQU9DLEdBQ1AsTUFBTyxDQUFDLENBQ1YsQ0FDRixDQW5TaUJDLEdBQ2JDLEVBQVEsRUFBUSxpQ0FDaEJDLEVBQWMsRUFBUSx1Q0FDdEJDLEVBQVEsRUFBUSwwQ0FDaEJDLEVBQVMsRUFBUSxrQ0FPckJDLEVBQU9DLFFBMENQLFNBQXFCQyxFQUFRQyxFQUFTQyxHQUNwQyxJQUFJQyxFQUFPRCxFQUNQRSxFQUFPSCxHQUFXLENBQUMsR0FFUCxJQUFaQSxHQUF1QyxpQkFBWkEsSUFFN0JHLEVBQU8sQ0FDTEMsU0FBVUosSUFJUyxtQkFBWkEsSUFDVEUsRUFBT0YsRUFDUEcsRUFBTyxDQUFDLEdBSVYsUUFBYUUsSUFBVEgsR0FBc0MsbUJBQVRBLEVBQy9CLE1BQU0sSUFBSUksVUFBVSx3Q0FJdEIsSUFBS0osSUFBU0ssT0FBT0MsUUFDbkIsTUFBTSxJQUFJRixVQUFVLGlDQUl0QixJQUFJRixHQUE2QixJQUFsQkQsRUFBS0MsU0FDaEJELEVBQUtDLFNBQ0wsUUFHQUssRUFBUWhCLEVBQU1pQixNQUFNUCxFQUFLTSxPQUd6QkUsRUFBd0IsTUFBZlIsRUFBS1EsUUFBbUJDLE1BQU1ULEVBQUtRLFFBRTVDLEtBREFFLFNBQVNWLEVBQUtRLE9BQVEsSUFHMUIsR0FBSVQsRUFFRixPQUFPWSxFQUFXZixFQUFRSyxFQUFVTyxFQUFRRixFQTZNaEQsU0FBZU0sR0FDYixJQUFJQyxFQUdBMUIsRUFBVzJCLGdCQUNiRCxFQUFNLElBQUkxQixFQUFXMkIsY0FBY0YsRUFBR0csTUFBUSx1QkFJaEQsSUFBS0YsSUFBUUEsRUFBSUcsZ0JBQ2YsT0FBT0osRUFJVCxPQUFPQyxFQUFJRyxnQkFBZ0JDLEtBQUtKLEVBQUtELEVBQUksS0FDM0MsQ0E1TnVETSxDQUFLbkIsSUFHMUQsT0FBTyxJ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Q3JELEVBQU8rRCxlQUFlLE9BQVFSLEdBQzlCdkQsRUFBTytELGVBQWUsTUFBT0osR0FDN0IzRCxFQUFPK0QsZUFBZSxRQUFTSixHQUMvQjNELEVBQU8rRCxlQUFlLFFBQVNoQixFQUNqQyxDQS9GQS9DLEVBQU9nRSxHQUFHLFVBQVdYLEdBQ3JCckQsRUFBT2dFLEdBQUcsUUFBU2pCLEdBQ25CL0MsRUFBT2dFLEdBQUcsT0FBUVQsR0FDbEJ2RCxFQUFPZ0UsR0FBRyxNQUFPTCxHQUNqQjNELEVBQU9nRSxHQUFHLFFBQVNMLEdBR25COUIsR0FBTyxDQXlGVCxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJkeHlneS9leHByZXNzLXdlYnBhY2svLi9ub2RlX21vZHVsZXMvcmF3LWJvZHkvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiByYXctYm9keVxuICogQ29weXJpZ2h0KGMpIDIwMTMtMjAxNCBKb25hdGhhbiBPbmdcbiAqIENvcHlyaWdodChjKSAyMDE0LTIwMjIgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBhc3luY0hvb2tzID0gdHJ5UmVxdWlyZUFzeW5jSG9va3MoKVxudmFyIGJ5dGVzID0gcmVxdWlyZSgnYnl0ZXMnKVxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnaHR0cC1lcnJvcnMnKVxudmFyIGljb252ID0gcmVxdWlyZSgnaWNvbnYtbGl0ZScpXG52YXIgdW5waXBlID0gcmVxdWlyZSgndW5waXBlJylcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd0JvZHlcblxuLyoqXG4gKiBNb2R1bGUgdmFyaWFibGVzLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgSUNPTlZfRU5DT0RJTkdfTUVTU0FHRV9SRUdFWFAgPSAvXkVuY29kaW5nIG5vdCByZWNvZ25pemVkOiAvXG5cbi8qKlxuICogR2V0IHRoZSBkZWNvZGVyIGZvciBhIGdpdmVuIGVuY29kaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ1xuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBnZXREZWNvZGVyIChlbmNvZGluZykge1xuICBpZiAoIWVuY29kaW5nKSByZXR1cm4gbnVsbFxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGljb252LmdldERlY29kZXIoZW5jb2RpbmcpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBlcnJvciBnZXR0aW5nIGRlY29kZXJcbiAgICBpZiAoIUlDT05WX0VOQ09ESU5HX01FU1NBR0VfUkVHRVhQLnRlc3QoZS5tZXNzYWdlKSkgdGhyb3cgZVxuXG4gICAgLy8gdGhlIGVuY29kaW5nIHdhcyBub3QgZm91bmRcbiAgICB0aHJvdyBjcmVhdGVFcnJvcig0MTUsICdzcGVjaWZpZWQgZW5jb2RpbmcgdW5zdXBwb3J0ZWQnLCB7XG4gICAgICBlbmNvZGluZzogZW5jb2RpbmcsXG4gICAgICB0eXBlOiAnZW5jb2RpbmcudW5zdXBwb3J0ZWQnXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIEdldCB0aGUgcmF3IGJvZHkgb2YgYSBzdHJlYW0gKHR5cGljYWxseSBIVFRQKS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc3RyZWFtXG4gKiBAcGFyYW0ge29iamVjdHxzdHJpbmd8ZnVuY3Rpb259IFtvcHRpb25zXVxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGdldFJhd0JvZHkgKHN0cmVhbSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgdmFyIGRvbmUgPSBjYWxsYmFja1xuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge31cblxuICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBzaG9ydCBjdXQgZm9yIGVuY29kaW5nXG4gICAgb3B0cyA9IHtcbiAgICAgIGVuY29kaW5nOiBvcHRpb25zXG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZG9uZSA9IG9wdGlvbnNcbiAgICBvcHRzID0ge31cbiAgfVxuXG4gIC8vIHZhbGlkYXRlIGNhbGxiYWNrIGlzIGEgZnVuY3Rpb24sIGlmIHByb3ZpZGVkXG4gIGlmIChkb25lICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGRvbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICB9XG5cbiAgLy8gcmVxdWlyZSB0aGUgY2FsbGJhY2sgd2l0aG91dCBwcm9taXNlc1xuICBpZiAoIWRvbmUgJiYgIWdsb2JhbC5Qcm9taXNlKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgY2FsbGJhY2sgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgLy8gZ2V0IGVuY29kaW5nXG4gIHZhciBlbmNvZGluZyA9IG9wdHMuZW5jb2RpbmcgIT09IHRydWVcbiAgICA/IG9wdHMuZW5jb2RpbmdcbiAgICA6ICd1dGYtOCdcblxuICAvLyBjb252ZXJ0IHRoZSBsaW1pdCB0byBhbiBpbnRlZ2VyXG4gIHZhciBsaW1pdCA9IGJ5dGVzLnBhcnNlKG9wdHMubGltaXQpXG5cbiAgLy8gY29udmVydCB0aGUgZXhwZWN0ZWQgbGVuZ3RoIHRvIGFuIGludGVnZXJcbiAgdmFyIGxlbmd0aCA9IG9wdHMubGVuZ3RoICE9IG51bGwgJiYgIWlzTmFOKG9wdHMubGVuZ3RoKVxuICAgID8gcGFyc2VJbnQob3B0cy5sZW5ndGgsIDEwKVxuICAgIDogbnVsbFxuXG4gIGlmIChkb25lKSB7XG4gICAgLy8gY2xhc3NpYyBjYWxsYmFjayBzdHlsZVxuICAgIHJldHVybiByZWFkU3RyZWFtKHN0cmVhbSwgZW5jb2RpbmcsIGxlbmd0aCwgbGltaXQsIHdyYXAoZG9uZSkpXG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZXhlY3V0b3IgKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRTdHJlYW0oc3RyZWFtLCBlbmNvZGluZywgbGVuZ3RoLCBsaW1pdCwgZnVuY3Rpb24gb25SZWFkIChlcnIsIGJ1Zikge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICByZXNvbHZlKGJ1ZilcbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIEhhbHQgYSBzdHJlYW0uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN0cmVhbVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBoYWx0IChzdHJlYW0pIHtcbiAgLy8gdW5waXBlIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgc3RyZWFtXG4gIHVucGlwZShzdHJlYW0pXG5cbiAgLy8gcGF1c2Ugc3RyZWFtXG4gIGlmICh0eXBlb2Ygc3RyZWFtLnBhdXNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc3RyZWFtLnBhdXNlKClcbiAgfVxufVxuXG4vKipcbiAqIFJlYWQgdGhlIGRhdGEgZnJvbSB0aGUgc3RyZWFtLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHJlYW1cbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJlYWRTdHJlYW0gKHN0cmVhbSwgZW5jb2RpbmcsIGxlbmd0aCwgbGltaXQsIGNhbGxiYWNrKSB7XG4gIHZhciBjb21wbGV0ZSA9IGZhbHNlXG4gIHZhciBzeW5jID0gdHJ1ZVxuXG4gIC8vIGNoZWNrIHRoZSBsZW5ndGggYW5kIGxpbWl0IG9wdGlvbnMuXG4gIC8vIG5vdGU6IHdlIGludGVudGlvbmFsbHkgbGVhdmUgdGhlIHN0cmVhbSBwYXVzZWQsXG4gIC8vIHNvIHVzZXJzIHNob3VsZCBoYW5kbGUgdGhlIHN0cmVhbSB0aGVtc2VsdmVzLlxuICBpZiAobGltaXQgIT09IG51bGwgJiYgbGVuZ3RoICE9PSBudWxsICYmIGxlbmd0aCA+IGxpbWl0KSB7XG4gICAgcmV0dXJuIGRvbmUoY3JlYXRlRXJyb3IoNDEzLCAncmVxdWVzdCBlbnRpdHkgdG9vIGxhcmdlJywge1xuICAgICAgZXhwZWN0ZWQ6IGxlbmd0aCxcbiAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgdHlwZTogJ2VudGl0eS50b28ubGFyZ2UnXG4gICAgfSkpXG4gIH1cblxuICAvLyBzdHJlYW1zMTogYXNzZXJ0IHJlcXVlc3QgZW5jb2RpbmcgaXMgYnVmZmVyLlxuICAvLyBzdHJlYW1zMis6IGFzc2VydCB0aGUgc3RyZWFtIGVuY29kaW5nIGlzIGJ1ZmZlci5cbiAgLy8gICBzdHJlYW0uX2RlY29kZXI6IHN0cmVhbXMxXG4gIC8vICAgc3RhdGUuZW5jb2Rpbmc6IHN0cmVhbXMyXG4gIC8vICAgc3RhdGUuZGVjb2Rlcjogc3RyZWFtczIsIHNwZWNpZmljYWxseSA8IDAuMTAuNlxuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGVcbiAgaWYgKHN0cmVhbS5fZGVjb2RlciB8fCAoc3RhdGUgJiYgKHN0YXRlLmVuY29kaW5nIHx8IHN0YXRlLmRlY29kZXIpKSkge1xuICAgIC8vIGRldmVsb3BlciBlcnJvclxuICAgIHJldHVybiBkb25lKGNyZWF0ZUVycm9yKDUwMCwgJ3N0cmVhbSBlbmNvZGluZyBzaG91bGQgbm90IGJlIHNldCcsIHtcbiAgICAgIHR5cGU6ICdzdHJlYW0uZW5jb2Rpbmcuc2V0J1xuICAgIH0pKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBzdHJlYW0ucmVhZGFibGUgIT09ICd1bmRlZmluZWQnICYmICFzdHJlYW0ucmVhZGFibGUpIHtcbiAgICByZXR1cm4gZG9uZShjcmVhdGVFcnJvcig1MDAsICdzdHJlYW0gaXMgbm90IHJlYWRhYmxlJywge1xuICAgICAgdHlwZTogJ3N0cmVhbS5ub3QucmVhZGFibGUnXG4gICAgfSkpXG4gIH1cblxuICB2YXIgcmVjZWl2ZWQgPSAwXG4gIHZhciBkZWNvZGVyXG5cbiAgdHJ5IHtcbiAgICBkZWNvZGVyID0gZ2V0RGVjb2RlcihlbmNvZGluZylcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGRvbmUoZXJyKVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IGRlY29kZXJcbiAgICA/ICcnXG4gICAgOiBbXVxuXG4gIC8vIGF0dGFjaCBsaXN0ZW5lcnNcbiAgc3RyZWFtLm9uKCdhYm9ydGVkJywgb25BYm9ydGVkKVxuICBzdHJlYW0ub24oJ2Nsb3NlJywgY2xlYW51cClcbiAgc3RyZWFtLm9uKCdkYXRhJywgb25EYXRhKVxuICBzdHJlYW0ub24oJ2VuZCcsIG9uRW5kKVxuICBzdHJlYW0ub24oJ2Vycm9yJywgb25FbmQpXG5cbiAgLy8gbWFyayBzeW5jIHNlY3Rpb24gY29tcGxldGVcbiAgc3luYyA9IGZhbHNlXG5cbiAgZnVuY3Rpb24gZG9uZSAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aClcblxuICAgIC8vIGNvcHkgYXJndW1lbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG4gICAgfVxuXG4gICAgLy8gbWFyayBjb21wbGV0ZVxuICAgIGNvbXBsZXRlID0gdHJ1ZVxuXG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soaW52b2tlQ2FsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGludm9rZUNhbGxiYWNrKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VDYWxsYmFjayAoKSB7XG4gICAgICBjbGVhbnVwKClcblxuICAgICAgaWYgKGFyZ3NbMF0pIHtcbiAgICAgICAgLy8gaGFsdCB0aGUgc3RyZWFtIG9uIGVycm9yXG4gICAgICAgIGhhbHQoc3RyZWFtKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjay5hcHBseShudWxsLCBhcmdzKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQWJvcnRlZCAoKSB7XG4gICAgaWYgKGNvbXBsZXRlKSByZXR1cm5cblxuICAgIGRvbmUoY3JlYXRlRXJyb3IoNDAwLCAncmVxdWVzdCBhYm9ydGVkJywge1xuICAgICAgY29kZTogJ0VDT05OQUJPUlRFRCcsXG4gICAgICBleHBlY3RlZDogbGVuZ3RoLFxuICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICByZWNlaXZlZDogcmVjZWl2ZWQsXG4gICAgICB0eXBlOiAncmVxdWVzdC5hYm9ydGVkJ1xuICAgIH0pKVxuICB9XG5cbiAgZnVuY3Rpb24gb25EYXRhIChjaHVuaykge1xuICAgIGlmIChjb21wbGV0ZSkgcmV0dXJuXG5cbiAgICByZWNlaXZlZCArPSBjaHVuay5sZW5ndGhcblxuICAgIGlmIChsaW1pdCAhPT0gbnVsbCAmJiByZWNlaXZlZCA+IGxpbWl0KSB7XG4gICAgICBkb25lKGNyZWF0ZUVycm9yKDQxMywgJ3JlcXVlc3QgZW50aXR5IHRvbyBsYXJnZScsIHtcbiAgICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgICByZWNlaXZlZDogcmVjZWl2ZWQsXG4gICAgICAgIHR5cGU6ICdlbnRpdHkudG9vLmxhcmdlJ1xuICAgICAgfSkpXG4gICAgfSBlbHNlIGlmIChkZWNvZGVyKSB7XG4gICAgICBidWZmZXIgKz0gZGVjb2Rlci53cml0ZShjaHVuaylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmZmVyLnB1c2goY2h1bmspXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25FbmQgKGVycikge1xuICAgIGlmIChjb21wbGV0ZSkgcmV0dXJuXG4gICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKVxuXG4gICAgaWYgKGxlbmd0aCAhPT0gbnVsbCAmJiByZWNlaXZlZCAhPT0gbGVuZ3RoKSB7XG4gICAgICBkb25lKGNyZWF0ZUVycm9yKDQwMCwgJ3JlcXVlc3Qgc2l6ZSBkaWQgbm90IG1hdGNoIGNvbnRlbnQgbGVuZ3RoJywge1xuICAgICAgICBleHBlY3RlZDogbGVuZ3RoLFxuICAgICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgICAgcmVjZWl2ZWQ6IHJlY2VpdmVkLFxuICAgICAgICB0eXBlOiAncmVxdWVzdC5zaXplLmludmFsaWQnXG4gICAgICB9KSlcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0cmluZyA9IGRlY29kZXJcbiAgICAgICAgPyBidWZmZXIgKyAoZGVjb2Rlci5lbmQoKSB8fCAnJylcbiAgICAgICAgOiBCdWZmZXIuY29uY2F0KGJ1ZmZlcilcbiAgICAgIGRvbmUobnVsbCwgc3RyaW5nKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFudXAgKCkge1xuICAgIGJ1ZmZlciA9IG51bGxcblxuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignYWJvcnRlZCcsIG9uQWJvcnRlZClcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbkRhdGEpXG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbkVuZClcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FbmQpXG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApXG4gIH1cbn1cblxuLyoqXG4gKiBUcnkgdG8gcmVxdWlyZSBhc3luY19ob29rc1xuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0cnlSZXF1aXJlQXN5bmNIb29rcyAoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHJlcXVpcmUoJ2FzeW5jX2hvb2tzJylcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7fVxuICB9XG59XG5cbi8qKlxuICogV3JhcCBmdW5jdGlvbiB3aXRoIGFzeW5jIHJlc291cmNlLCBpZiBwb3NzaWJsZS5cbiAqIEFzeW5jUmVzb3VyY2UuYmluZCBzdGF0aWMgbWV0aG9kIGJhY2twb3J0ZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHdyYXAgKGZuKSB7XG4gIHZhciByZXNcblxuICAvLyBjcmVhdGUgYW5vbnltb3VzIHJlc291cmNlXG4gIGlmIChhc3luY0hvb2tzLkFzeW5jUmVzb3VyY2UpIHtcbiAgICByZXMgPSBuZXcgYXN5bmNIb29rcy5Bc3luY1Jlc291cmNlKGZuLm5hbWUgfHwgJ2JvdW5kLWFub255bW91cy1mbicpXG4gIH1cblxuICAvLyBpbmNvbXBhdGlibGUgbm9kZS5qc1xuICBpZiAoIXJlcyB8fCAhcmVzLnJ1bkluQXN5bmNTY29wZSkge1xuICAgIHJldHVybiBmblxuICB9XG5cbiAgLy8gcmV0dXJuIGJvdW5kIGZ1bmN0aW9uXG4gIHJldHVybiByZXMucnVuSW5Bc3luY1Njb3BlLmJpbmQocmVzLCBmbiwgbnVsbClcbn1cbiJdLCJuYW1lcyI6WyJhc3luY0hvb2tzIiwiZSIsInRyeVJlcXVpcmVBc3luY0hvb2tzIiwiYnl0ZXMiLCJjcmVhdGVFcnJvciIsImljb252IiwidW5waXBlIiwibW9kdWxlIiwiZXhwb3J0cyIsInN0cmVhbSIsIm9wdGlvbnMiLCJjYWxsYmFjayIsImRvbmUiLCJvcHRzIiwiZW5jb2RpbmciLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJnbG9iYWwiLCJQcm9taXNlIiwibGltaXQiLCJwYXJzZSIsImxlbmd0aCIsImlzTmFOIiwicGFyc2VJbnQiLCJyZWFkU3RyZWFtIiwiZm4iLCJyZXMiLCJBc3luY1Jlc291cmNlIiwibmFtZSIsInJ1bkluQXN5bmNTY29wZSIsImJpbmQiLCJ3cmFwIiwicmVzb2x2ZSIsInJlamVjdCIsImVyciIsImJ1ZiIsIklDT05WX0VOQ09ESU5HX01FU1NBR0VfUkVHRVhQIiwiY29tcGxldGUiLCJzeW5jIiwiZXhwZWN0ZWQiLCJ0eXBlIiwic3RhdGUiLCJfcmVhZGFibGVTdGF0ZSIsIl9kZWNvZGVyIiwiZGVjb2RlciIsInJlYWRhYmxlIiwicmVjZWl2ZWQiLCJnZXREZWNvZGVyIiwidGVzdCIsIm1lc3NhZ2UiLCJidWZmZXIiLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJpIiwiaW52b2tlQ2FsbGJhY2siLCJjbGVhbnVwIiwicGF1c2UiLCJoYWx0IiwiYXBwbHkiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJvbkFib3J0ZWQiLCJjb2RlIiwib25EYXRhIiwiY2h1bmsiLCJ3cml0ZSIsInB1c2giLCJvbkVuZCIsImVuZCIsIkJ1ZmZlciIsImNvbmNhdCIsInJlbW92ZUxpc3RlbmVyIiwib24iXSwic291cmNlUm9vdCI6IiJ9