exports.id="mod-node_modules_depd_index_js-f5129ebe",exports.ids=["mod-node_modules_depd_index_js-f5129ebe"],exports.modules={"./node_modules/depd/index.js":(e,r,t)=>{var n=t("path").relative;e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");var r=s(m()[1])[0];function t(e){c.call(t,e)}return t._file=r,t._ignored=function(e){if(process.noDeprecation)return!0;return i(process.env.NO_DEPRECATION||"",e)}(e),t._namespace=e,t._traced=function(e){if(process.traceDeprecation)return!0;return i(process.env.TRACE_DEPRECATION||"",e)}(e),t._warned=Object.create(null),t.function=g,t.property=v,t};var a=process.cwd();function i(e,r){for(var t=e.split(/[ ,]+/),n=String(r).toLowerCase(),a=0;a<t.length;a++){var i=t[a];if(i&&("*"===i||i.toLowerCase()===n))return!0}return!1}function o(e){var r=this.name+": "+this.namespace;this.message&&(r+=" deprecated "+this.message);for(var t=0;t<e.length;t++)r+="\n    at "+e[t].toString();return r}function c(e,r){var t,n,a=(t=process,n="deprecation",("function"!=typeof t.listenerCount?t.listeners(n).length:t.listenerCount(n))>0);if(a||!this._ignored){var i,o,c,p,d=0,g=!1,v=m(),h=this._file;for(r?(p=r,(c=s(v[1])).name=p.name,h=c[0]):c=p=s(v[d=2]);d<v.length;d++)if((o=(i=s(v[d]))[0])===h)g=!0;else if(o===this._file)h=this._file;else if(g)break;var y=i?p.join(":")+"__"+i.join(":"):void 0;if(void 0===y||!(y in this._warned)){this._warned[y]=!0;var _=e;if(_||(_=c!==p&&c.name?u(c):u(p)),a){var w=b(this._namespace,_,v.slice(d));process.emit("deprecation",w)}else{var E=(process.stderr.isTTY?l:f).call(this,_,i,v.slice(d));process.stderr.write(E+"\n","utf8")}}}}function s(e){var r=e.getFileName()||"<anonymous>",t=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(r=e.getEvalOrigin()+", "+r);var a=[r,t,n];return a.callSite=e,a.name=e.getFunctionName(),a}function u(e){var r=e.callSite,t=e.name;t||(t="<anonymous@"+p(e)+">");var n=r.getThis(),a=n&&r.getTypeName();return"Object"===a&&(a=void 0),"Function"===a&&(a=n.name||a),a&&r.getMethodName()?a+"."+t:t}function f(e,r,t){var n=(new Date).toUTCString()+" "+this._namespace+" deprecated "+e;if(this._traced){for(var a=0;a<t.length;a++)n+="\n    at "+t[a].toString();return n}return r&&(n+=" at "+p(r)),n}function l(e,r,t){var n="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(var a=0;a<t.length;a++)n+="\n    [36mat "+t[a].toString()+"[39m";return n}return r&&(n+=" [36m"+p(r)+"[39m"),n}function p(e){return n(a,e[0])+":"+e[1]+":"+e[2]}function m(){var e=Error.stackTraceLimit,r={},t=Error.prepareStackTrace;Error.prepareStackTrace=d,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(r);var n=r.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,n}function d(e,r){return r}function g(e,r){if("function"!=typeof e)throw new TypeError("argument fn must be a function");var t=function(e){for(var r="",t=0;t<e;t++)r+=", arg"+t;return r.substr(2)}(e.length),n=s(m()[1]);return n.name=e.name,new Function("fn","log","deprecate","message","site",'"use strict"\nreturn function ('+t+") {log.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n}")(e,c,this,r,n)}function v(e,r,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,r);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var a=this,i=s(m()[1]);i.name=r,"value"in n&&(n=function(e,r,t){var n=Object.getOwnPropertyDescriptor(e,r),a=n.value;return n.get=function(){return a},n.writable&&(n.set=function(e){return a=e}),delete n.value,delete n.writable,Object.defineProperty(e,r,n),n}(e,r));var o=n.get,u=n.set;"function"==typeof o&&(n.get=function(){return c.call(a,t,i),o.apply(this,arguments)}),"function"==typeof u&&(n.set=function(){return c.call(a,t,i),u.apply(this,arguments)}),Object.defineProperty(e,r,n)}function b(e,r,t){var n,a=new Error;return Object.defineProperty(a,"constructor",{value:b}),Object.defineProperty(a,"message",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(a,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(a,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==n?n:n=o.call(this,t)},set:function(e){n=e}}),a}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLW5vZGVfbW9kdWxlc19kZXBkX2luZGV4X2pzLWY1MTI5ZWJlLmpzIiwibWFwcGluZ3MiOiJ1S0FVQSxJQUFJQSxFQUFXLG1CQU1mQyxFQUFPQyxRQXNGUCxTQUFlQyxHQUNiLElBQUtBLEVBQ0gsTUFBTSxJQUFJQyxVQUFVLGtDQUd0QixJQUVJQyxFQURPQyxFQURDQyxJQUNzQixJQUNsQixHQUVoQixTQUFTQyxFQUFXQyxHQUVsQkMsRUFBSUMsS0FBS0gsRUFBV0MsRUFDdEIsQ0FXQSxPQVRBRCxFQUFVSSxNQUFRUCxFQUNsQkcsRUFBVUssU0FtQ1osU0FBb0JWLEdBQ2xCLEdBQUlXLFFBQVFDLGNBRVYsT0FBTyxFQU1ULE9BQU9DLEVBSEdGLFFBQVFHLElBQUlDLGdCQUFrQixHQUdWZixFQUNoQyxDQTdDdUJnQixDQUFVaEIsR0FDL0JLLEVBQVVZLFdBQWFqQixFQUN2QkssRUFBVWEsUUFpRFosU0FBbUJsQixHQUNqQixHQUFJVyxRQUFRUSxpQkFFVixPQUFPLEVBTVQsT0FBT04sRUFIR0YsUUFBUUcsSUFBSU0sbUJBQXFCLEdBR2JwQixFQUNoQyxDQTNEc0JxQixDQUFTckIsR0FDN0JLLEVBQVVpQixRQUFVQyxPQUFPQyxPQUFPLE1BRWxDbkIsRUFBVW9CLFNBQVdDLEVBQ3JCckIsRUFBVXNCLFNBQVdDLEVBRWR2QixDQUNULEVBeEdBLElBQUl3QixFQUFXbEIsUUFBUW1CLE1BTXZCLFNBQVNqQixFQUFtQmtCLEVBQUsvQixHQUkvQixJQUhBLElBQUlnQyxFQUFPRCxFQUFJRSxNQUFNLFNBQ2pCQyxFQUFLQyxPQUFPbkMsR0FBV29DLGNBRWxCQyxFQUFJLEVBQUdBLEVBQUlMLEVBQUtNLE9BQVFELElBQUssQ0FDcEMsSUFBSUUsRUFBTVAsRUFBS0ssR0FHZixHQUFJRSxJQUFnQixNQUFSQSxHQUFlQSxFQUFJSCxnQkFBa0JGLEdBQy9DLE9BQU8sQ0FFWCxDQUVBLE9BQU8sQ0FDVCxDQTBDQSxTQUFTTSxFQUFtQkMsR0FDMUIsSUFBSVYsRUFBTVcsS0FB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SixFQUFXSSxJQUNqQkUsRUFBTU4sRUFBV00sSUFHRixtQkFBUkYsSUFDVEosRUFBV0ksSUFBTSxXQUVmLE9BREF2RyxFQUFJQyxLQUFLSCxFQUFXQyxFQUFTdUMsR0FDdEJpRSxFQUFJSyxNQUFNekUsS0FBTTBFLFVBQ3pCLEdBSWlCLG1CQUFSSixJQUNUTixFQUFXTSxJQUFNLFdBRWYsT0FEQXpHLEVBQUlDLEtBQUtILEVBQVdDLEVBQVN1QyxHQUN0Qm1FLEVBQUlHLE1BQU16RSxLQUFNMEUsVUFDekIsR0FHRjdGLE9BQU8wRixlQUFlckIsRUFBS2EsRUFBTUMsRUFDbkMsQ0FNQSxTQUFTNUMsRUFBa0I5RCxFQUFXTSxFQUFTbUMsR0FDN0MsSUFDSTRFLEVBREFDLEVBQVEsSUFBSTVCLE1BNENoQixPQXpDQW5FLE9BQU8wRixlQUFlSyxFQUFPLGNBQWUsQ0FDMUNULE1BQU8vQyxJQUdUdkMsT0FBTzBGLGVBQWVLLEVBQU8sVUFBVyxDQUN0Q1YsY0FBYyxFQUNkVyxZQUFZLEVBQ1pWLE1BQU92RyxFQUNQeUcsVUFBVSxJQUdaeEYsT0FBTzBGLGVBQWVLLEVBQU8sT0FBUSxDQUNuQ0MsWUFBWSxFQUNaWCxjQUFjLEVBQ2RDLE1BQU8sbUJBQ1BFLFVBQVUsSUFHWnhGLE9BQU8wRixlQUFlSyxFQUFPLFlBQWEsQ0FDeENWLGNBQWMsRUFDZFcsWUFBWSxFQUNaVixNQUFPN0csRUFDUCtHLFVBQVUsSUFHWnhGLE9BQU8wRixlQUFlSyxFQUFPLFFBQVMsQ0FDcENWLGNBQWMsRUFDZFcsWUFBWSxFQUNaVCxJQUFLLFdBQ0gsWUFBb0JwRCxJQUFoQjJELEVBQ0tBLEVBSURBLEVBQWM3RSxFQUFrQmhDLEtBQUtrQyxLQUFNRCxFQUNyRCxFQUNBdUUsSUFBSyxTQUFpQnpFLEdBQ3BCOEUsRUFBYzlFLENBQ2hCLElBR0srRSxDQUNULEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmR4eWd5L2V4cHJlc3Mtd2VicGFjay8uL25vZGVfbW9kdWxlcy9kZXBkL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogZGVwZFxuICogQ29weXJpZ2h0KGMpIDIwMTQtMjAxOCBEb3VnbGFzIENocmlzdG9waGVyIFdpbHNvblxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciByZWxhdGl2ZSA9IHJlcXVpcmUoJ3BhdGgnKS5yZWxhdGl2ZVxuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGVwZFxuXG4vKipcbiAqIEdldCB0aGUgcGF0aCB0byBiYXNlIGZpbGVzIG9uLlxuICovXG5cbnZhciBiYXNlUGF0aCA9IHByb2Nlc3MuY3dkKClcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgbmFtZXNwYWNlIGlzIGNvbnRhaW5lZCBpbiB0aGUgc3RyaW5nLlxuICovXG5cbmZ1bmN0aW9uIGNvbnRhaW5zTmFtZXNwYWNlIChzdHIsIG5hbWVzcGFjZSkge1xuICB2YXIgdmFscyA9IHN0ci5zcGxpdCgvWyAsXSsvKVxuICB2YXIgbnMgPSBTdHJpbmcobmFtZXNwYWNlKS50b0xvd2VyQ2FzZSgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbCA9IHZhbHNbaV1cblxuICAgIC8vIG5hbWVzcGFjZSBjb250YWluZWRcbiAgICBpZiAodmFsICYmICh2YWwgPT09ICcqJyB8fCB2YWwudG9Mb3dlckNhc2UoKSA9PT0gbnMpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIGRlc2NyaXB0b3IgdG8gYWNjZXNzb3IgZGVzY3JpcHRvci5cbiAqL1xuXG5mdW5jdGlvbiBjb252ZXJ0RGF0YURlc2NyaXB0b3JUb0FjY2Vzc29yIChvYmosIHByb3AsIG1lc3NhZ2UpIHtcbiAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgcHJvcClcbiAgdmFyIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZVxuXG4gIGRlc2NyaXB0b3IuZ2V0ID0gZnVuY3Rpb24gZ2V0dGVyICgpIHsgcmV0dXJuIHZhbHVlIH1cblxuICBpZiAoZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgIGRlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24gc2V0dGVyICh2YWwpIHsgcmV0dXJuICh2YWx1ZSA9IHZhbCkgfVxuICB9XG5cbiAgZGVsZXRlIGRlc2NyaXB0b3IudmFsdWVcbiAgZGVsZXRlIGRlc2NyaXB0b3Iud3JpdGFibGVcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkZXNjcmlwdG9yKVxuXG4gIHJldHVybiBkZXNjcmlwdG9yXG59XG5cbi8qKlxuICogQ3JlYXRlIGFyZ3VtZW50cyBzdHJpbmcgdG8ga2VlcCBhcml0eS5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVBcmd1bWVudHNTdHJpbmcgKGFyaXR5KSB7XG4gIHZhciBzdHIgPSAnJ1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJpdHk7IGkrKykge1xuICAgIHN0ciArPSAnLCBhcmcnICsgaVxuICB9XG5cbiAgcmV0dXJuIHN0ci5zdWJzdHIoMilcbn1cblxuLyoqXG4gKiBDcmVhdGUgc3RhY2sgc3RyaW5nIGZyb20gc3RhY2suXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RhY2tTdHJpbmcgKHN0YWNrKSB7XG4gIHZhciBzdHIgPSB0aGlzLm5hbWUgKyAnOiAnICsgdGhpcy5uYW1lc3BhY2VcblxuICBpZiAodGhpcy5tZXNzYWdlKSB7XG4gICAgc3RyICs9ICcgZGVwcmVjYXRlZCAnICsgdGhpcy5tZXNzYWdlXG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgc3RyICs9ICdcXG4gICAgYXQgJyArIHN0YWNrW2ldLnRvU3RyaW5nKClcbiAgfVxuXG4gIHJldHVybiBzdHJcbn1cblxuLyoqXG4gKiBDcmVhdGUgZGVwcmVjYXRlIGZvciBuYW1lc3BhY2UgaW4gY2FsbGVyLlxuICovXG5cbmZ1bmN0aW9uIGRlcGQgKG5hbWVzcGFjZSkge1xuICBpZiAoIW5hbWVzcGFjZSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG5hbWVzcGFjZSBpcyByZXF1aXJlZCcpXG4gIH1cblxuICB2YXIgc3RhY2sgPSBnZXRTdGFjaygpXG4gIHZhciBzaXRlID0gY2FsbFNpdGVMb2NhdGlvbihzdGFja1sxXSlcbiAgdmFyIGZpbGUgPSBzaXRlWzBdXG5cbiAgZnVuY3Rpb24gZGVwcmVjYXRlIChtZXNzYWdlKSB7XG4gICAgLy8gY2FsbCB0byBzZWxmIGFzIGxvZ1xuICAgIGxvZy5jYWxsKGRlcHJlY2F0ZSwgbWVzc2FnZSlcbiAgfVxuXG4gIGRlcHJlY2F0ZS5fZmlsZSA9IGZpbGVcbiAgZGVwcmVjYXRlLl9pZ25vcmVkID0gaXNpZ25vcmVkKG5hbWVzcGFjZSlcbiAgZGVwcmVjYXRlLl9uYW1lc3BhY2UgPSBuYW1lc3BhY2VcbiAgZGVwcmVjYXRlLl90cmFjZWQgPSBpc3RyYWNlZChuYW1lc3BhY2UpXG4gIGRlcHJlY2F0ZS5fd2FybmVkID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gIGRlcHJlY2F0ZS5mdW5jdGlvbiA9IHdyYXBmdW5jdGlvblxuICBkZXByZWNhdGUucHJvcGVydHkgPSB3cmFwcHJvcGVydHlcblxuICByZXR1cm4gZGVwcmVjYXRlXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGV2ZW50IGVtaXR0ZXIgaGFzIGxpc3RlbmVycyBvZiBhIGdpdmVuIHR5cGUuXG4gKlxuICogVGhlIHdheSB0byBkbyB0aGlzIGNoZWNrIGlzIGRvbmUgdGhyZWUgZGlmZmVyZW50IHdheXMgaW4gTm9kZS5qcyA+PSAwLjhcbiAqIHNvIHRoaXMgY29uc29saWRhdGVzIHRoZW0gaW50byBhIG1pbmltYWwgc2V0IHVzaW5nIGluc3RhbmNlIG1ldGhvZHMuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZWVoYXNsaXN0ZW5lcnMgKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIGNvdW50ID0gdHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCAhPT0gJ2Z1bmN0aW9uJ1xuICAgID8gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoXG4gICAgOiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSlcblxuICByZXR1cm4gY291bnQgPiAwXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIG5hbWVzcGFjZSBpcyBpZ25vcmVkLlxuICovXG5cbmZ1bmN0aW9uIGlzaWdub3JlZCAobmFtZXNwYWNlKSB7XG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24pIHtcbiAgICAvLyAtLW5vLWRlcHJlY2F0aW9uIHN1cHBvcnRcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdmFyIHN0ciA9IHByb2Nlc3MuZW52Lk5PX0RFUFJFQ0FUSU9OIHx8ICcnXG5cbiAgLy8gbmFtZXNwYWNlIGlnbm9yZWRcbiAgcmV0dXJuIGNvbnRhaW5zTmFtZXNwYWNlKHN0ciwgbmFtZXNwYWNlKVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBuYW1lc3BhY2UgaXMgdHJhY2VkLlxuICovXG5cbmZ1bmN0aW9uIGlzdHJhY2VkIChuYW1lc3BhY2UpIHtcbiAgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgIC8vIC0tdHJhY2UtZGVwcmVjYXRpb24gc3VwcG9ydFxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB2YXIgc3RyID0gcHJvY2Vzcy5lbnYuVFJBQ0VfREVQUkVDQVRJT04gfHwgJydcblxuICAvLyBuYW1lc3BhY2UgdHJhY2VkXG4gIHJldHVybiBjb250YWluc05hbWVzcGFjZShzdHIsIG5hbWVzcGFjZSlcbn1cblxuLyoqXG4gKiBEaXNwbGF5IGRlcHJlY2F0aW9uIG1lc3NhZ2UuXG4gKi9cblxuZnVuY3Rpb24gbG9nIChtZXNzYWdlLCBzaXRlKSB7XG4gIHZhciBoYXNsaXN0ZW5lcnMgPSBlZWhhc2xpc3RlbmVycyhwcm9jZXNzLCAnZGVwcmVjYXRpb24nKVxuXG4gIC8vIGFib3J0IGVhcmx5IGlmIG5vIGRlc3RpbmF0aW9uXG4gIGlmICghaGFzbGlzdGVuZXJzICYmIHRoaXMuX2lnbm9yZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjYWxsZXJcbiAgdmFyIGNhbGxGaWxlXG4gIHZhciBjYWxsU2l0ZVxuICB2YXIgZGVwU2l0ZVxuICB2YXIgaSA9IDBcbiAgdmFyIHNlZW4gPSBmYWxzZVxuICB2YXIgc3RhY2sgPSBnZXRTdGFjaygpXG4gIHZhciBmaWxlID0gdGhpcy5fZmlsZVxuXG4gIGlmIChzaXRlKSB7XG4gICAgLy8gcHJvdmlkZWQgc2l0ZVxuICAgIGRlcFNpdGUgPSBzaXRlXG4gICAgY2FsbFNpdGUgPSBjYWxsU2l0ZUxvY2F0aW9uKHN0YWNrWzFdKVxuICAgIGNhbGxTaXRlLm5hbWUgPSBkZXBTaXRlLm5hbWVcbiAgICBmaWxlID0gY2FsbFNpdGVbMF1cbiAgfSBlbHNlIHtcbiAgICAvLyBnZXQgY2FsbCBzaXRlXG4gICAgaSA9IDJcbiAgICBkZXBTaXRlID0gY2FsbFNpdGVMb2NhdGlvbihzdGFja1tpXSlcbiAgICBjYWxsU2l0ZSA9IGRlcFNpdGVcbiAgfVxuXG4gIC8vIGdldCBjYWxsZXIgb2YgZGVwcmVjYXRlZCB0aGluZyBpbiByZWxhdGlvbiB0byBmaWxlXG4gIGZvciAoOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICBjYWxsZXIgPSBjYWxsU2l0ZUxvY2F0aW9uKHN0YWNrW2ldKVxuICAgIGNhbGxGaWxlID0gY2FsbGVyWzBdXG5cbiAgICBpZiAoY2FsbEZpbGUgPT09IGZpbGUpIHtcbiAgICAgIHNlZW4gPSB0cnVlXG4gICAgfSBlbHNlIGlmIChjYWxsRmlsZSA9PT0gdGhpcy5fZmlsZSkge1xuICAgICAgZmlsZSA9IHRoaXMuX2ZpbGVcbiAgICB9IGVsc2UgaWYgKHNlZW4pIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgdmFyIGtleSA9IGNhbGxlclxuICAgID8gZGVwU2l0ZS5qb2luKCc6JykgKyAnX18nICsgY2FsbGVyLmpvaW4oJzonKVxuICAgIDogdW5kZWZpbmVkXG5cbiAgaWYgKGtleSAhPT0gdW5kZWZpbmVkICYmIGtleSBpbiB0aGlzLl93YXJuZWQpIHtcbiAgICAvLyBhbHJlYWR5IHdhcm5lZFxuICAgIHJldHVyblxuICB9XG5cbiAgdGhpcy5fd2FybmVkW2tleV0gPSB0cnVlXG5cbiAgLy8gZ2VuZXJhdGUgYXV0b21hdGljIG1lc3NhZ2UgZnJvbSBjYWxsIHNpdGVcbiAgdmFyIG1zZyA9IG1lc3NhZ2VcbiAgaWYgKCFtc2cpIHtcbiAgICBtc2cgPSBjYWxsU2l0ZSA9PT0gZGVwU2l0ZSB8fCAhY2FsbFNpdGUubmFtZVxuICAgICAgPyBkZWZhdWx0TWVzc2FnZShkZXBTaXRlKVxuICAgICAgOiBkZWZhdWx0TWVzc2FnZShjYWxsU2l0ZSlcbiAgfVxuXG4gIC8vIGVtaXQgZGVwcmVjYXRpb24gaWYgbGlzdGVuZXJzIGV4aXN0XG4gIGlmIChoYXNsaXN0ZW5lcnMpIHtcbiAgICB2YXIgZXJyID0gRGVwcmVjYXRpb25FcnJvcih0aGlzLl9uYW1lc3BhY2UsIG1zZywgc3RhY2suc2xpY2UoaSkpXG4gICAgcHJvY2Vzcy5lbWl0KCdkZXByZWNhdGlvbicsIGVycilcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGZvcm1hdCBhbmQgd3JpdGUgbWVzc2FnZVxuICB2YXIgZm9ybWF0ID0gcHJvY2Vzcy5zdGRlcnIuaXNUVFlcbiAgICA/IGZvcm1hdENvbG9yXG4gICAgOiBmb3JtYXRQbGFpblxuICB2YXIgb3V0cHV0ID0gZm9ybWF0LmNhbGwodGhpcywgbXNnLCBjYWxsZXIsIHN0YWNrLnNsaWNlKGkpKVxuICBwcm9jZXNzLnN0ZGVyci53cml0ZShvdXRwdXQgKyAnXFxuJywgJ3V0ZjgnKVxufVxuXG4vKipcbiAqIEdldCBjYWxsIHNpdGUgbG9jYXRpb24gYXMgYXJyYXkuXG4gKi9cblxuZnVuY3Rpb24gY2FsbFNpdGVMb2NhdGlvbiAoY2FsbFNpdGUpIHtcbiAgdmFyIGZpbGUgPSBjYWxsU2l0ZS5nZXRGaWxlTmFtZSgpIHx8ICc8YW5vbnltb3VzPidcbiAgdmFyIGxpbmUgPSBjYWxsU2l0ZS5nZXRMaW5lTnVtYmVyKClcbiAgdmFyIGNvbG0gPSBjYWxsU2l0ZS5nZXRDb2x1bW5OdW1iZXIoKVxuXG4gIGlmIChjYWxsU2l0ZS5pc0V2YWwoKSkge1xuICAgIGZpbGUgPSBjYWxsU2l0ZS5nZXRFdmFsT3JpZ2luKCkgKyAnLCAnICsgZmlsZVxuICB9XG5cbiAgdmFyIHNpdGUgPSBbZmlsZSwgbGluZSwgY29sbV1cblxuICBzaXRlLmNhbGxTaXRlID0gY2FsbFNpdGVcbiAgc2l0ZS5uYW1lID0gY2FsbFNpdGUuZ2V0RnVuY3Rpb25OYW1lKClcblxuICByZXR1cm4gc2l0ZVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgZGVmYXVsdCBtZXNzYWdlIGZyb20gdGhlIHNpdGUuXG4gKi9cblxuZnVuY3Rpb24gZGVmYXVsdE1lc3NhZ2UgKHNpdGUpIHtcbiAgdmFyIGNhbGxTaXRlID0gc2l0ZS5jYWxsU2l0ZVxuICB2YXIgZnVuY05hbWUgPSBzaXRlLm5hbWVcblxuICAvLyBtYWtlIHVzZWZ1bCBhbm9ueW1vdXMgbmFtZVxuICBpZiAoIWZ1bmNOYW1lKSB7XG4gICAgZnVuY05hbWUgPSAnPGFub255bW91c0AnICsgZm9ybWF0TG9jYXRpb24oc2l0ZSkgKyAnPidcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0gY2FsbFNpdGUuZ2V0VGhpcygpXG4gIHZhciB0eXBlTmFtZSA9IGNvbnRleHQgJiYgY2FsbFNpdGUuZ2V0VHlwZU5hbWUoKVxuXG4gIC8vIGlnbm9yZSB1c2VsZXNzIHR5cGUgbmFtZVxuICBpZiAodHlwZU5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgdHlwZU5hbWUgPSB1bmRlZmluZWRcbiAgfVxuXG4gIC8vIG1ha2UgdXNlZnVsIHR5cGUgbmFtZVxuICBpZiAodHlwZU5hbWUgPT09ICdGdW5jdGlvbicpIHtcbiAgICB0eXBlTmFtZSA9IGNvbnRleHQubmFtZSB8fCB0eXBlTmFtZVxuICB9XG5cbiAgcmV0dXJuIHR5cGVOYW1lICYmIGNhbGxTaXRlLmdldE1ldGhvZE5hbWUoKVxuICAgID8gdHlwZU5hbWUgKyAnLicgKyBmdW5jTmFtZVxuICAgIDogZnVuY05hbWVcbn1cblxuLyoqXG4gKiBGb3JtYXQgZGVwcmVjYXRpb24gbWVzc2FnZSB3aXRob3V0IGNvbG9yLlxuICovXG5cbmZ1bmN0aW9uIGZvcm1hdFBsYWluIChtc2csIGNhbGxlciwgc3RhY2spIHtcbiAgdmFyIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9VVENTdHJpbmcoKVxuXG4gIHZhciBmb3JtYXR0ZWQgPSB0aW1lc3RhbXAgK1xuICAgICcgJyArIHRoaXMuX25hbWVzcGFjZSArXG4gICAgJyBkZXByZWNhdGVkICcgKyBtc2dcblxuICAvLyBhZGQgc3RhY2sgdHJhY2VcbiAgaWYgKHRoaXMuX3RyYWNlZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvcm1hdHRlZCArPSAnXFxuICAgIGF0ICcgKyBzdGFja1tpXS50b1N0cmluZygpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1hdHRlZFxuICB9XG5cbiAgaWYgKGNhbGxlcikge1xuICAgIGZvcm1hdHRlZCArPSAnIGF0ICcgKyBmb3JtYXRMb2NhdGlvbihjYWxsZXIpXG4gIH1cblxuICByZXR1cm4gZm9ybWF0dGVkXG59XG5cbi8qKlxuICogRm9ybWF0IGRlcHJlY2F0aW9uIG1lc3NhZ2Ugd2l0aCBjb2xvci5cbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRDb2xvciAobXNnLCBjYWxsZXIsIHN0YWNrKSB7XG4gIHZhciBmb3JtYXR0ZWQgPSAnXFx4MWJbMzY7MW0nICsgdGhpcy5fbmFtZXNwYWNlICsgJ1xceDFiWzIyOzM5bScgKyAvLyBib2xkIGN5YW5cbiAgICAnIFxceDFiWzMzOzFtZGVwcmVjYXRlZFxceDFiWzIyOzM5bScgKyAvLyBib2xkIHllbGxvd1xuICAgICcgXFx4MWJbMG0nICsgbXNnICsgJ1xceDFiWzM5bScgLy8gcmVzZXRcblxuICAvLyBhZGQgc3RhY2sgdHJhY2VcbiAgaWYgKHRoaXMuX3RyYWNlZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvcm1hdHRlZCArPSAnXFxuICAgIFxceDFiWzM2bWF0ICcgKyBzdGFja1tpXS50b1N0cmluZygpICsgJ1xceDFiWzM5bScgLy8gY3lhblxuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXR0ZWRcbiAgfVxuXG4gIGlmIChjYWxsZXIpIHtcbiAgICBmb3JtYXR0ZWQgKz0gJyBcXHgxYlszNm0nICsgZm9ybWF0TG9jYXRpb24oY2FsbGVyKSArICdcXHgxYlszOW0nIC8vIGN5YW5cbiAgfVxuXG4gIHJldHVybiBmb3JtYXR0ZWRcbn1cblxuLyoqXG4gKiBGb3JtYXQgY2FsbCBzaXRlIGxvY2F0aW9uLlxuICovXG5cbmZ1bmN0aW9uIGZvcm1hdExvY2F0aW9uIChjYWxsU2l0ZSkge1xuICByZXR1cm4gcmVsYXRpdmUoYmFzZVBhdGgsIGNhbGxTaXRlWzBdKSArXG4gICAgJzonICsgY2FsbFNpdGVbMV0gK1xuICAgICc6JyArIGNhbGxTaXRlWzJdXG59XG5cbi8qKlxuICogR2V0IHRoZSBzdGFjayBhcyBhcnJheSBvZiBjYWxsIHNpdGVzLlxuICovXG5cbmZ1bmN0aW9uIGdldFN0YWNrICgpIHtcbiAgdmFyIGxpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0XG4gIHZhciBvYmogPSB7fVxuICB2YXIgcHJlcCA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlXG5cbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmVwYXJlT2JqZWN0U3RhY2tUcmFjZVxuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBNYXRoLm1heCgxMCwgbGltaXQpXG5cbiAgLy8gY2FwdHVyZSB0aGUgc3RhY2tcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2Uob2JqKVxuXG4gIC8vIHNsaWNlIHRoaXMgZnVuY3Rpb24gb2ZmIHRoZSB0b3BcbiAgdmFyIHN0YWNrID0gb2JqLnN0YWNrLnNsaWNlKDEpXG5cbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmVwXG4gIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IGxpbWl0XG5cbiAgcmV0dXJuIHN0YWNrXG59XG5cbi8qKlxuICogQ2FwdHVyZSBjYWxsIHNpdGUgc3RhY2sgZnJvbSB2OC5cbiAqL1xuXG5mdW5jdGlvbiBwcmVwYXJlT2JqZWN0U3RhY2tUcmFjZSAob2JqLCBzdGFjaykge1xuICByZXR1cm4gc3RhY2tcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSB3cmFwcGVkIGZ1bmN0aW9uIGluIGEgZGVwcmVjYXRpb24gbWVzc2FnZS5cbiAqL1xuXG5mdW5jdGlvbiB3cmFwZnVuY3Rpb24gKGZuLCBtZXNzYWdlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBmbiBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICB9XG5cbiAgdmFyIGFyZ3MgPSBjcmVhdGVBcmd1bWVudHNTdHJpbmcoZm4ubGVuZ3RoKVxuICB2YXIgc3RhY2sgPSBnZXRTdGFjaygpXG4gIHZhciBzaXRlID0gY2FsbFNpdGVMb2NhdGlvbihzdGFja1sxXSlcblxuICBzaXRlLm5hbWUgPSBmbi5uYW1lXG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIHZhciBkZXByZWNhdGVkZm4gPSBuZXcgRnVuY3Rpb24oJ2ZuJywgJ2xvZycsICdkZXByZWNhdGUnLCAnbWVzc2FnZScsICdzaXRlJyxcbiAgICAnXCJ1c2Ugc3RyaWN0XCJcXG4nICtcbiAgICAncmV0dXJuIGZ1bmN0aW9uICgnICsgYXJncyArICcpIHsnICtcbiAgICAnbG9nLmNhbGwoZGVwcmVjYXRlLCBtZXNzYWdlLCBzaXRlKVxcbicgK1xuICAgICdyZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxcbicgK1xuICAgICd9JykoZm4sIGxvZywgdGhpcywgbWVzc2FnZSwgc2l0ZSlcblxuICByZXR1cm4gZGVwcmVjYXRlZGZuXG59XG5cbi8qKlxuICogV3JhcCBwcm9wZXJ0eSBpbiBhIGRlcHJlY2F0aW9uIG1lc3NhZ2UuXG4gKi9cblxuZnVuY3Rpb24gd3JhcHByb3BlcnR5IChvYmosIHByb3AsIG1lc3NhZ2UpIHtcbiAgaWYgKCFvYmogfHwgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgb2JqIG11c3QgYmUgb2JqZWN0JylcbiAgfVxuXG4gIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApXG5cbiAgaWYgKCFkZXNjcmlwdG9yKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBjYWxsIHByb3BlcnR5IG9uIG93bmVyIG9iamVjdCcpXG4gIH1cblxuICBpZiAoIWRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJvcGVydHkgbXVzdCBiZSBjb25maWd1cmFibGUnKVxuICB9XG5cbiAgdmFyIGRlcHJlY2F0ZSA9IHRoaXNcbiAgdmFyIHN0YWNrID0gZ2V0U3RhY2soKVxuICB2YXIgc2l0ZSA9IGNhbGxTaXRlTG9jYXRpb24oc3RhY2tbMV0pXG5cbiAgLy8gc2V0IHNpdGUgbmFtZVxuICBzaXRlLm5hbWUgPSBwcm9wXG5cbiAgLy8gY29udmVydCBkYXRhIGRlc2NyaXB0b3JcbiAgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikge1xuICAgIGRlc2NyaXB0b3IgPSBjb252ZXJ0RGF0YURlc2NyaXB0b3JUb0FjY2Vzc29yKG9iaiwgcHJvcCwgbWVzc2FnZSlcbiAgfVxuXG4gIHZhciBnZXQgPSBkZXNjcmlwdG9yLmdldFxuICB2YXIgc2V0ID0gZGVzY3JpcHRvci5zZXRcblxuICAvLyB3cmFwIGdldHRlclxuICBpZiAodHlwZW9mIGdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRlc2NyaXB0b3IuZ2V0ID0gZnVuY3Rpb24gZ2V0dGVyICgpIHtcbiAgICAgIGxvZy5jYWxsKGRlcHJlY2F0ZSwgbWVzc2FnZSwgc2l0ZSlcbiAgICAgIHJldHVybiBnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgfVxuXG4gIC8vIHdyYXAgc2V0dGVyXG4gIGlmICh0eXBlb2Ygc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbiBzZXR0ZXIgKCkge1xuICAgICAgbG9nLmNhbGwoZGVwcmVjYXRlLCBtZXNzYWdlLCBzaXRlKVxuICAgICAgcmV0dXJuIHNldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZGVzY3JpcHRvcilcbn1cblxuLyoqXG4gKiBDcmVhdGUgRGVwcmVjYXRpb25FcnJvciBmb3IgZGVwcmVjYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBEZXByZWNhdGlvbkVycm9yIChuYW1lc3BhY2UsIG1lc3NhZ2UsIHN0YWNrKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcigpXG4gIHZhciBzdGFja1N0cmluZ1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgJ2NvbnN0cnVjdG9yJywge1xuICAgIHZhbHVlOiBEZXByZWNhdGlvbkVycm9yXG4gIH0pXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yLCAnbWVzc2FnZScsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IG1lc3NhZ2UsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsICduYW1lJywge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogJ0RlcHJlY2F0aW9uRXJyb3InLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yLCAnbmFtZXNwYWNlJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogbmFtZXNwYWNlLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yLCAnc3RhY2snLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YWNrU3RyaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrU3RyaW5nXG4gICAgICB9XG5cbiAgICAgIC8vIHByZXBhcmUgc3RhY2sgdHJhY2VcbiAgICAgIHJldHVybiAoc3RhY2tTdHJpbmcgPSBjcmVhdGVTdGFja1N0cmluZy5jYWxsKHRoaXMsIHN0YWNrKSlcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0dGVyICh2YWwpIHtcbiAgICAgIHN0YWNrU3RyaW5nID0gdmFsXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBlcnJvclxufVxuIl0sIm5hbWVzIjpbInJlbGF0aXZlIiwibW9kdWxlIiwiZXhwb3J0cyIsIm5hbWVzcGFjZSIsIlR5cGVFcnJvciIsImZpbGUiLCJjYWxsU2l0ZUxvY2F0aW9uIiwiZ2V0U3RhY2siLCJkZXByZWNhdGUiLCJtZXNzYWdlIiwibG9nIiwiY2FsbCIsIl9maWxlIiwiX2lnbm9yZWQiLCJwcm9jZXNzIiwibm9EZXByZWNhdGlvbiIsImNvbnRhaW5zTmFtZXNwYWNlIiwiZW52IiwiTk9fREVQUkVDQVRJT04iLCJpc2lnbm9yZWQiLCJfbmFtZXNwYWNlIiwiX3RyYWNlZCIsInRyYWNlRGVwcmVjYXRpb24iLCJUUkFDRV9ERVBSRUNBVElPTiIsImlzdHJhY2VkIiwiX3dhcm5lZCIsIk9iamVjdCIsImNyZWF0ZSIsImZ1bmN0aW9uIiwid3JhcGZ1bmN0aW9uIiwicHJvcGVydHkiLCJ3cmFwcHJvcGVydHkiLCJiYXNlUGF0aCIsImN3ZCIsInN0ciIsInZhbHMiLCJzcGxpdCIsIm5zIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpIiwibGVuZ3RoIiwidmFsIiwiY3JlYXRlU3RhY2tTdHJpbmciLCJzdGFjayIsInRoaXMiLCJuYW1lIiwidG9TdHJpbmciLCJzaXRlIiwiZW1pdHRlciIsInR5cGUiLCJoYXNsaXN0ZW5lcnMiLCJsaXN0ZW5lckNvdW50IiwibGlzdGVuZXJzIiwiY2FsbGVyIiwiY2FsbEZpbGUiLCJjYWxsU2l0ZSIsImRlcFNpdGUiLCJzZWVuIiwia2V5Iiwiam9pbiIsInVuZGVmaW5lZCIsIm1zZyIsImRlZmF1bHRNZXNzYWdlIiwiZXJyIiwiRGVwcmVjYXRpb25FcnJvciIsInNsaWNlIiwiZW1pdCIsIm91dHB1dCIsInN0ZGVyciIsImlzVFRZIiwiZm9ybWF0Q29sb3IiLCJmb3JtYXRQbGFpbiIsIndyaXRlIiwiZ2V0RmlsZU5hbWUiLCJsaW5lIiwiZ2V0TGluZU51bWJlciIsImNvbG0iLCJnZXRDb2x1bW5OdW1iZXIiLCJpc0V2YWwiLCJnZXRFdmFsT3JpZ2luIiwiZ2V0RnVuY3Rpb25OYW1lIiwiZnVuY05hbWUiLCJmb3JtYXRMb2NhdGlvbiIsImNvbnRleHQiLCJnZXRUaGlzIiwidHlwZU5hbWUiLCJnZXRUeXBlTmFtZSIsImdldE1ldGhvZE5hbWUiLCJmb3JtYXR0ZWQiLCJEYXRlIiwidG9VVENTdHJpbmciLCJsaW1pdCIsIkVycm9yIiwic3RhY2tUcmFjZUxpbWl0Iiwib2JqIiwicHJlcCIsInByZXBhcmVTdGFja1RyYWNlIiwicHJlcGFyZU9iamVjdFN0YWNrVHJhY2UiLCJNYXRoIiwibWF4IiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJmbiIsImFyZ3MiLCJhcml0eSIsInN1YnN0ciIsImNyZWF0ZUFyZ3VtZW50c1N0cmluZyIsIkZ1bmN0aW9uIiwicHJvcCIsImRlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ2YWx1ZSIsImdldCIsIndyaXRhYmxlIiwic2V0IiwiZGVmaW5lUHJvcGVydHkiLCJjb252ZXJ0RGF0YURlc2NyaXB0b3JUb0FjY2Vzc29yIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzdGFja1N0cmluZyIsImVycm9yIiwiZW51bWVyYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=