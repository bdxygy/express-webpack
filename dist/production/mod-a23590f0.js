"use strict";exports.id=1305,exports.ids=[1305],exports.modules={3211:function(e,t,n){var o=n(9009),r=n(6149),i=n(1045),d=n(4914),c=n(338),p=n(8170),s=n(9796);e.exports=function(e,t,n,u,a,y){var l,g,f=y;e._body=!0;var h=null!==f.encoding?f.encoding:null,v=f.verify;try{g=function(e,t,n){var r,i=(e.headers["content-encoding"]||"identity").toLowerCase(),d=e.headers["content-length"];if(t('content-encoding "%s"',i),!1===n&&"identity"!==i)throw o(415,"content encoding unsupported",{encoding:i,type:"encoding.unsupported"});switch(i){case"deflate":r=s.createInflate(),t("inflate body"),e.pipe(r);break;case"gzip":r=s.createGunzip(),t("gunzip body"),e.pipe(r);break;case"identity":(r=e).length=d;break;default:throw o(415,'unsupported content encoding "'+i+'"',{encoding:i,type:"encoding.unsupported"})}return r}(e,a,f.inflate),l=g.length,g.length=void 0}catch(e){return n(e)}if(f.length=l,f.encoding=v?null:h,null===f.encoding&&null!==h&&!d.encodingExists(h))return n(o(415,'unsupported charset "'+h.toUpperCase()+'"',{charset:h.toLowerCase(),type:"charset.unsupported"}));a("read body"),i(g,f,(function(i,s){var y;if(i)return y="encoding.unsupported"===i.type?o(415,'unsupported charset "'+h.toUpperCase()+'"',{charset:h.toLowerCase(),type:"charset.unsupported"}):o(400,i),g!==e&&(p(e),r(g,!0)),void function(e,t){c.isFinished(e)?t(null):(c(e,t),e.resume())}(e,(function(){n(o(400,y))}));if(v)try{a("verify body"),v(e,t,s,h)}catch(e){return void n(o(403,e,{body:s,type:e.type||"entity.verify.failed"}))}var l=s;try{a("parse body"),l="string"!=typeof s&&null!==h?d.decode(s,h):s,e.body=u(l)}catch(e){return void n(o(400,e,{body:l,type:e.type||"entity.parse.failed"}))}n()}))}}};