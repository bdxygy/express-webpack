"use strict";exports.id=7600,exports.ids=[7600],exports.modules={2914:function(t,e,s){var n=s(9509).Buffer,r=s(7389),i=s(9009),o=s(412)("express"),a=s(517),u=s(5573),h=s(3685),c=s(4265).isAbsolute,f=s(338),d=s(1017),p=s(4917),l=s(1322),y=s(1365).sign,g=s(4265).normalizeType,v=s(4265).normalizeTypes,C=s(4265).setCharset,m=s(6489),b=s(329),j=d.extname,T=b.mime,E=d.resolve,w=s(5181),A=Object.create(h.ServerResponse.prototype);t.exports=A;var x=/;\s*charset\s*=/;function O(t,e,s,n){var r,i=!1;function o(){if(!i){i=!0;var t=new Error("Request aborted");t.code="ECONNABORTED",n(t)}}function a(t){i||(i=!0,n(t))}e.on("directory",(function(){if(!i){i=!0;var t=new Error("EISDIR, read");t.code="EISDIR",n(t)}})),e.on("end",(function(){i||(i=!0,n())})),e.on("error",a),e.on("file",(function(){r=!1})),e.on("stream",(function(){r=!0})),f(t,(function(t){return t&&"ECONNRESET"===t.code?o():t?a(t):void(i||setImmediate((function(){!1===r||i?i||(i=!0,n()):o()})))})),s.headers&&e.on("headers",(function(t){for(var e=s.headers,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t.setHeader(i,e[i])}})),e.pipe(t)}function k(t,e,s,n){var r=e||s?JSON.stringify(t,e,s):JSON.stringify(t);return n&&"string"==typeof r&&(r=r.replace(/[<>&]/g,(function(t){switch(t.charCodeAt(0)){case 60:return"\\u003c";case 62:return"\\u003e";case 38:return"\\u0026";default:return t}}))),r}A.status=function(t){return("string"==typeof t||Math.floor(t)!==t)&&t>99&&t<1e3&&o("res.status("+JSON.stringify(t)+"): use res.status("+Math.floor(t)+") instead"),this.statusCode=t,this},A.links=function(t){var e=this.get("Link")||"";return e&&(e+=", "),this.set("Link",e+Object.keys(t).map((function(e){return"<"+t[e]+'>; rel="'+e+'"'})).join(", "))},A.send=function(t){var e,s,r=t,i=this.req,a=this.app;switch(2===arguments.length&&("number"!=typeof arguments[0]&&"number"==typeof arguments[1]?(o("res.send(body, status): Use res.status(status).send(body) instead"),this.statusCode=arguments[1]):(o("res.send(status, body): Use res.status(status).send(body) instead"),this.statusCode=arguments[0],r=arguments[1])),"number"==typeof r&&1===arguments.length&&(this.get("Content-Type")||this.type("txt"),o("res.send(status): Use res.sendStatus(status) instead"),this.statusCode=r,r=p.message[r]),typeof r){case"string":this.get("Content-Type")||this.type("html");break;case"boolean":case"number":case"object":if(null===r)r="";else{if(!n.isBuffer(r))return this.json(r);this.get("Content-Type")||this.type("bin")}}"string"==typeof r&&(e="utf8","string"==typeof(s=this.get("Content-Type"))&&this.set("Content-Type",C(s,"utf-8")));var u,h,c=a.get("etag fn"),f=!this.get("ETag")&&"function"==typeof c;return void 0!==r&&(n.isBuffer(r)?u=r.length:!f&&r.length<1e3?u=n.byteLength(r,e):(r=n.from(r,e),e=void 0,u=r.length),this.set("Content-Length",u)),f&&void 0!==u&&(h=c(r,e))&&this.set("ETag",h),i.fresh&&(this.statusCode=304),204!==this.statusCode&&304!==this.statusCode||(this.removeHeader("Content-Type"),this.removeHeader("Content-Length"),this.removeHeader("Transfer-Encoding"),r=""),205===this.statusCode&&(this.set("Content-Length","0"),this.removeHeader("Transfer-Encoding"),r=""),"HEAD"===i.method?this.end():this.end(r,e),this},A.json=function(t){var e=t;2===arguments.length&&("number"==typeof arguments[1]?(o("res.json(obj, status): Use res.status(status).json(obj) instead"),this.statusCode=arguments[1]):(o("res.json(status, obj): Use res.status(status).json(obj) instead"),this.statusCode=arguments[0],e=arguments[1]));var s=this.app,n=s.get("json escape"),r=k(e,s.get("json replacer"),s.get("json spaces"),n);return this.get("Content-Type")||this.set("Content-Type","application/json"),this.send(r)},A.jsonp=function(t){var e=t;2===arguments.length&&("number"==typeof arguments[1]?(o("res.jsonp(obj, status): Use res.status(status).jsonp(obj) instead"),this.statusCode=arguments[1]):(o("res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead"),this.statusCode=arguments[0],e=arguments[1]));var s=this.app,n=s.get("json escape"),r=k(e,s.get("json replacer"),s.get("json spaces"),n),i=this.req.query[s.get("jsonp callback name")];return this.get("Content-Type")||(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","application/json")),Array.isArray(i)&&(i=i[0]),"string"==typeof i&&0!==i.length&&(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","text/javascript"),i=i.replace(/[^\[\]\w$.]/g,""),void 0===r?r="":"string"==typeof r&&(r=r.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")),r="/**/ typeof "+i+" === 'function' && "+i+"("+r+");"),this.send(r)},A.sendStatus=function(t){var e=p.message[t]||String(t);return this.statusCode=t,this.type("txt"),this.send(e)},A.sendFile=function(t,e,s){var n=s,r=this.req,i=r.next,o=e||{};if(!t)throw new TypeError("path argument is required to res.sendFile");if("string"!=typeof t)throw new TypeError("path must be a string to res.sendFile");if("function"==typeof e&&(n=e,o={}),!o.root&&!c(t))throw new TypeError("path must be absolute or specify root to res.sendFile");var a=encodeURI(t);O(this,b(r,a,o),o,(function(t){return n?n(t):t&&"EISDIR"===t.code?i():void(t&&"ECONNABORTED"!==t.code&&"write"!==t.syscall&&i(t))}))},A.sendfile=function(t,e,s){var n=s,r=this.req,i=r.next,o=e||{};"function"==typeof e&&(n=e,o={}),O(this,b(r,t,o),o,(function(t){return n?n(t):t&&"EISDIR"===t.code?i():void(t&&"ECONNABORTED"!==t.code&&"write"!==t.syscall&&i(t))}))},A.sendfile=o.function(A.sendfile,"res.sendfile: Use res.sendFile instead"),A.download=function(t,e,s,n){var i=n,o=e,a=s||null;"function"==typeof e?(i=e,o=null,a=null):"function"==typeof s&&(i=s,a=null),"object"!=typeof e||"function"!=typeof s&&void 0!==s||(o=null,a=e);var u={"Content-Disposition":r(o||t)};if(a&&a.headers)for(var h=Object.keys(a.headers),c=0;c<h.length;c++){var f=h[c];"content-disposition"!==f.toLowerCase()&&(u[f]=a.headers[f])}(a=Object.create(a)).headers=u;var d=a.root?t:E(t);return this.sendFile(d,a,i)},A.contentType=A.type=function(t){var e=-1===t.indexOf("/")?T.lookup(t):t;return this.set("Content-Type",e)},A.format=function(t){var e=this.req,s=e.next,n=Object.keys(t).filter((function(t){return"default"!==t})),r=n.length>0&&e.accepts(n);return this.vary("Accept"),r?(this.set("Content-Type",g(r).value),t[r](e,this,s)):t.default?t.default(e,this,s):s(i(406,{types:v(n).map((function(t){return t.value}))})),this},A.attachment=function(t){return t&&this.type(j(t)),this.set("Content-Disposition",r(t)),this},A.append=function(t,e){var s=this.get(t),n=e;return s&&(n=Array.isArray(s)?s.concat(e):Array.isArray(e)?[s].concat(e):[s,e]),this.set(t,n)},A.set=A.header=function(t,e){if(2===arguments.length){var s=Array.isArray(e)?e.map(String):String(e);if("content-type"===t.toLowerCase()){if(Array.isArray(s))throw new TypeError("Content-Type cannot be set to an Array");if(!x.test(s)){var n=T.charsets.lookup(s.split(";")[0]);n&&(s+="; charset="+n.toLowerCase())}}this.setHeader(t,s)}else for(var r in t)this.set(r,t[r]);return this},A.get=function(t){return this.getHeader(t)},A.clearCookie=function(t,e){var s=l({expires:new Date(1),path:"/"},e);return this.cookie(t,"",s)},A.cookie=function(t,e,s){var n=l({},s),r=this.req.secret,i=n.signed;if(i&&!r)throw new Error('cookieParser("secret") required for signed cookies');var o="object"==typeof e?"j:"+JSON.stringify(e):String(e);if(i&&(o="s:"+y(o,r)),null!=n.maxAge){var a=n.maxAge-0;isNaN(a)||(n.expires=new Date(Date.now()+a),n.maxAge=Math.floor(a/1e3))}return null==n.path&&(n.path="/"),this.append("Set-Cookie",m.serialize(t,String(o),n)),this},A.location=function(t){var e=t;return"back"===t&&(e=this.req.get("Referrer")||"/"),this.set("Location",a(e))},A.redirect=function(t){var e,s=t,r=302;2===arguments.length&&("number"==typeof arguments[0]?(r=arguments[0],s=arguments[1]):(o("res.redirect(url, status): Use res.redirect(status, url) instead"),r=arguments[1])),s=this.location(s).get("Location"),this.format({text:function(){e=p.message[r]+". Redirecting to "+s},html:function(){var t=u(s);e="<p>"+p.message[r]+'. Redirecting to <a href="'+t+'">'+t+"</a></p>"},default:function(){e=""}}),this.statusCode=r,this.set("Content-Length",n.byteLength(e)),"HEAD"===this.req.method?this.end():this.end(e)},A.vary=function(t){return!t||Array.isArray(t)&&!t.length?(o("res.vary(): Provide a field name"),this):(w(this,t),this)},A.render=function(t,e,s){var n=this.req.app,r=s,i=e||{},o=this.req,a=this;"function"==typeof e&&(r=e,i={}),i._locals=a.locals,r=r||function(t,e){if(t)return o.next(t);a.send(e)},n.render(t,i,r)}}};