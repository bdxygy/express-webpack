"use strict";exports.id=668,exports.ids=[668],exports.modules={338:function(e,n,o){e.exports=function(e,n){if(!1!==r(e))return u(n,null,e),e;return function(e,n){var o=e.__onFinished;o&&o.queue||(o=e.__onFinished=function(e){function n(o){if(e.__onFinished===n&&(e.__onFinished=null),n.queue){var t=n.queue;n.queue=null;for(var i=0;i<t.length;i++)t[i](o,e)}}return n.queue=[],n}(e),function(e,n){var o,t,u=!1;function r(e){o.cancel(),t.cancel(),u=!0,n(e)}function c(n){e.removeListener("socket",c),u||o===t&&(t=i([[n,"error","close"]],r))}if(o=t=i([[e,"end","finish"]],r),e.socket)return void c(e.socket);e.on("socket",c),void 0===e.socket&&function(e,n){var o=e.assignSocket;if("function"!=typeof o)return;e.assignSocket=function(e){o.call(this,e),n(e)}}(e,c)}(e,o));o.queue.push(n)}(e,function(e){var n;t.AsyncResource&&(n=new t.AsyncResource(e.name||"bound-anonymous-fn"));if(!n||!n.runInAsyncScope)return e;return n.runInAsyncScope.bind(n,e,null)}(n)),e},e.exports.isFinished=r;var t=function(){try{return o(852)}catch(e){return{}}}(),i=o(4331),u="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function r(e){var n=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||n&&!n.writable):"boolean"==typeof e.complete?Boolean(e.upgrade||!n||!n.readable||e.complete&&!e.readable):void 0}}};